{"ast":null,"code":"import _regeneratorRuntime from\"/home/gcg/Desktop/Programing /python/Django main projects/projects/businessManagement/react_BusinessManagement/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/gcg/Desktop/Programing /python/Django main projects/projects/businessManagement/react_BusinessManagement/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/gcg/Desktop/Programing /python/Django main projects/projects/businessManagement/react_BusinessManagement/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect}from'react';// import { Link } from \"react-router-dom\";\nimport{Link,useNavigate}from\"react-router-dom\";import login_api from\"./components/api/login_api\";import useAccess from\"../accessToken\";// import useRefresh from \"../refreshToken\"\nimport'./Login.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Login(){var _useAccess=useAccess(''),access=_useAccess.access,setAccess=_useAccess.setAccess;// const [refresh, setRefresh] = useRefresh\nvar _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),message=_useState6[0],setMessage=_useState6[1];// setAccess.access()\nvar navigate=useNavigate();useEffect(function(){},[]);var success=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(text){return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:console.log(\"You are logged in!\");// await localStorage.setItem(\"refreshToken\", text.refresh);\nsetAccess({access:text.access});navigate(\"/ledger\");case 3:case\"end\":return _context.stop();}}},_callee);}));return function success(_x){return _ref.apply(this,arguments);};}();console.log(access);var formSubmit=function formSubmit(e){e.preventDefault();console.log(\"Loggin in with\",email,password);login_api(email,password,success,function(text){setMessage(text);});};return/*#__PURE__*/_jsx(\"section\",{children:/*#__PURE__*/_jsxs(\"div\",{id:\"loginOverlay\",children:[/*#__PURE__*/_jsx(\"div\",{id:\"regTitle\",children:/*#__PURE__*/_jsx(\"h1\",{children:\"Registration\"})}),/*#__PURE__*/_jsxs(\"div\",{id:\"loginForm_overlay\",children:[/*#__PURE__*/_jsxs(\"form\",{id:\"loginForm\",onSubmit:formSubmit,children:[\"E-mail\",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{className:\"input_form\",autoFocus:true,type:\"text\",id:\"email\",placeholder:\"my_mail@mail.com\",onChange:function onChange(e){setEmail(e.target.value);},value:email}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),\"Password\",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{className:\"input_form\",type:\"password\",id:\"password\",placeholder:\"************\",onChange:function onChange(e){setPassword(e.target.value);},value:password}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"div\",{style:{margin:\"1em\",color:\"red\"},children:message}),/*#__PURE__*/_jsx(\"p\",{children:\"Forgot password? Click Here\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"div\",{id:\"submitBTN_overlay\",children:/*#__PURE__*/_jsx(\"button\",{id:\"submit\",type:\"submit\",value:\"Login\",children:\"Login\"})})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"p\",{children:\"don't have an account?\"}),/*#__PURE__*/_jsx(Link,{to:\"/registration\",id:\"registerBTN_Overlay\",children:/*#__PURE__*/_jsx(\"button\",{id:\"registerBTN\",children:\"register\"})})]})]})});}export default Login;","map":{"version":3,"names":["useState","useEffect","Link","useNavigate","login_api","useAccess","Login","access","setAccess","email","setEmail","password","setPassword","message","setMessage","navigate","success","text","console","log","formSubmit","e","preventDefault","target","value","margin","color"],"sources":["/home/gcg/Desktop/Programing /python/Django main projects/projects/businessManagement/react_BusinessManagement/src/features/login/Login.js"],"sourcesContent":["import { useState, useEffect } from 'react';\n// import { Link } from \"react-router-dom\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport login_api from \"./components/api/login_api\"\nimport useAccess from \"../accessToken\"\n// import useRefresh from \"../refreshToken\"\nimport './Login.css'\n\nfunction Login() {\n  const {access, setAccess} = useAccess('')\n  // const [refresh, setRefresh] = useRefresh\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [message, setMessage] = useState(\"\");\n  // setAccess.access()\n  let navigate = useNavigate();\n\n  useEffect(\n    () => {\n      \n    },[]\n  )\n\n  const success = async (text)=> {\n    console.log(\"You are logged in!\");\n    // await localStorage.setItem(\"refreshToken\", text.refresh);\n\n    setAccess(\n      {\n        access:text.access,\n      }\n    )\n    navigate(\"/ledger\");\n  };\n  console.log(access) \n\n  const formSubmit = (e) => {\n    e.preventDefault();\n    console.log(\"Loggin in with\", email, password);\n    login_api(email, password, success, (text)=>{setMessage(text)});\n  };\n\n  return (\n        \n    <section>\n      <div id=\"loginOverlay\">\n        <div id=\"regTitle\">\n          <h1>Registration</h1>\n        </div>\n\n        <div id=\"loginForm_overlay\">\n          <form id=\"loginForm\" onSubmit={formSubmit}>\n              E-mail<br/>\n              <input className=\"input_form\" autoFocus type=\"text\" id=\"email\" placeholder=\"my_mail@mail.com\" onChange={(e)=>{setEmail(e.target.value)}} value={email} /><br/><br/><br/>\n\n              Password<br/>\n              <input className=\"input_form\" type=\"password\" id=\"password\" placeholder=\"************\" onChange={(e)=>{setPassword(e.target.value)}} value={password} /><br/><br/>\n              \n              <div style={{margin: \"1em\", color: \"red\"}}>{message}</div>\n\n              <p>Forgot password? Click Here</p><br/>\n              \n              <div id=\"submitBTN_overlay\">\n                <button id=\"submit\" type=\"submit\" value=\"Login\" >Login</button>\n              </div>\n              \n          </form><br/><br/><br/>\n\n          <p>don't have an account?</p>\n\n          <Link to=\"/registration\" id='registerBTN_Overlay'>\n            <button id=\"registerBTN\">register</button>\n          </Link>\n        </div>\n        \n\n        \n      </div>\n    </section>\n  );\n}\n \nexport default Login"],"mappings":"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"},"metadata":{},"sourceType":"module"}
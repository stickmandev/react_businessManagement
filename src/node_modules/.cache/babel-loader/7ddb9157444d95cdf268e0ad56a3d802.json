{"ast":null,"code":"import _regeneratorRuntime from\"/home/gcg/Desktop/Programing /python/Django main projects/projects/businessManagement/react_BusinessManagement/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/gcg/Desktop/Programing /python/Django main projects/projects/businessManagement/react_BusinessManagement/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _toConsumableArray from\"/home/gcg/Desktop/Programing /python/Django main projects/projects/businessManagement/react_BusinessManagement/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/home/gcg/Desktop/Programing /python/Django main projects/projects/businessManagement/react_BusinessManagement/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from'react';import{useState,useEffect,useMemo}from'react';import{get_cashFlow,delete_cashFlow,edit_cashFlow}from'./api/cashFow_CRUD';import useGlobalState from\"../../../Store_&_State/GlobalState\";import useAccess from\"../../auths/accessToken\";import{useEffectOnce}from\"../../../custom_Hooks/useEffectOnce\";import{ScrollSync,ScrollSyncPane}from'react-scroll-sync';import Moment from'react-moment';import moment from\"moment\";import NumberFormat from'react-number-format';import InfiniteScroll from'react-infinite-scroll-component';import{NavLink}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function FlowDomManagement(prop){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),flowList=_useState2[0],setFlowList=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),flow=_useState4[0],setFlow=_useState4[1];// const [flowPages, setFlowPages] = useState([]);\nvar _useState5=useState(0),_useState6=_slicedToArray(_useState5,2),flowPage=_useState6[0],setFlowPage=_useState6[1];// const [flow_DateSorted, setFlow_DateSorted] = useState([]);\nvar _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),emptyTR=_useState8[0],setEmptyTR=_useState8[1];// const [flowId, setFlowId] = useState([]);\n// const [currentStream, setCurrentStream] = useState([]);\nvar _useState9=useState([]),_useState10=_slicedToArray(_useState9,2),balances=_useState10[0],setBalances=_useState10[1];var _useState11=useState(1),_useState12=_slicedToArray(_useState11,2),page=_useState12[0],setPage=_useState12[1];var _useState13=useState(1),_useState14=_slicedToArray(_useState13,2),nextPage=_useState14[0],setNextPage=_useState14[1];var _useState15=useState(1),_useState16=_slicedToArray(_useState15,2),addCashFlow_Triger=_useState16[0],setAddCashFlow_Triger=_useState16[1];var _useState17=useState(0),_useState18=_slicedToArray(_useState17,2),sn=_useState18[0],setSn=_useState18[1];var _useState19=useState(true),_useState20=_slicedToArray(_useState19,2),HasMore=_useState20[0],setHasMore=_useState20[1];// const [count, setCcount] = useState(1);\nvar _useAccess=useAccess(''),access=_useAccess.access,setAccess=_useAccess.setAccess;var _useGlobalState=useGlobalState([]),createFlowModalIsOpen=_useGlobalState.createFlowModalIsOpen,setCreateFlowIsOpen=_useGlobalState.setCreateFlowIsOpen;var _useGlobalState2=useGlobalState([]),editFlowIsOpen=_useGlobalState2.editFlowIsOpen,setEditFlowIsOpen=_useGlobalState2.setEditFlowIsOpen;var _useGlobalState3=useGlobalState([0]),reRender=_useGlobalState3.reRender,setReRender=_useGlobalState3.setReRender;var _useGlobalState4=useGlobalState([]),streamList=_useGlobalState4.streamList,setStreamList=_useGlobalState4.setStreamList;var _useGlobalState5=useGlobalState([]),stream=_useGlobalState5.stream,setStream=_useGlobalState5.setStream;var _useGlobalState6=useGlobalState([]),priodStart=_useGlobalState6.priodStart,setPriodStart=_useGlobalState6.setPriodStart;var _useGlobalState7=useGlobalState([]),priodEnd=_useGlobalState7.priodEnd,setPriodEnd=_useGlobalState7.setPriodEnd;var _useGlobalState8=useGlobalState(''),start_date=_useGlobalState8.start_date,setStart_date=_useGlobalState8.setStart_date;var _useGlobalState9=useGlobalState(''),end_date=_useGlobalState9.end_date,setEnd_date=_useGlobalState9.setEnd_date;var _useGlobalState10=useGlobalState(''),filterCategory=_useGlobalState10.filterCategory,setFilterCategory=_useGlobalState10.setFilterCategory;var _useGlobalState11=useGlobalState(''),search=_useGlobalState11.search,setSearch=_useGlobalState11.setSearch;var _useGlobalState12=useGlobalState([]),flowId=_useGlobalState12.flowId,setFlowId=_useGlobalState12.setFlowId;var _useGlobalState13=useGlobalState([]),total_balance=_useGlobalState13.total_balance,setTotal_balance=_useGlobalState13.setTotal_balance;var _useGlobalState14=useGlobalState(''),grandTotal=_useGlobalState14.grandTotal,setGrandTotal=_useGlobalState14.setGrandTotal;var _useState21=useState(\"none\"),_useState22=_slicedToArray(_useState21,2),display=_useState22[0],setDisplay=_useState22[1];var _useState23=useState(0),_useState24=_slicedToArray(_useState23,2),offsetTop=_useState24[0],setoffsetTop=_useState24[1];var _useState25=useState(0),_useState26=_slicedToArray(_useState25,2),trHeight=_useState26[0],setTrHeight=_useState26[1];// .......................... Access .............................................................................\nvar set_Access=function set_Access(Access_token){setAccess(Access_token);};useEffectOnce(function(){set_Access();},[]);// .......................... cashflow add function .............................................................................\nvar addFirst=function addFirst(){// console.log(\"preparing to send flow to the DOM\")\nvar newList=[];var trEmpty=[];var data=Array.from(streamList);var total_balanceArr=[];// console.log('about to map stream and flow lists and set new list')\ndata.map(function(streamItem,id,arr){// console.log('mapping through stream list')\ntrEmpty.push(/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"td\"}),/*#__PURE__*/_jsx(\"div\",{className:\"td\"})]}));if(balances[streamItem.name]!==undefined){total_balanceArr.push(/*#__PURE__*/_jsxs(\"div\",{id:\"totalBalance2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"streamHeader\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"th\",children:/*#__PURE__*/_jsx(NumberFormat,{value:balances[streamItem.name].total_Credit,displayType:'text',thousandSeparator:true// prefix={'$'}\n})}),/*#__PURE__*/_jsx(\"div\",{className:\"th\",children:/*#__PURE__*/_jsx(NumberFormat,{value:balances[streamItem.name].total_Debit,displayType:'text',thousandSeparator:true// prefix={'$'}\n})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"th stream th_stream\",children:/*#__PURE__*/_jsx(NumberFormat,{value:balances[streamItem.name].balance,displayType:'text',thousandSeparator:true// prefix={'$'}\n})})]}));}return flowList.map(function(flowItem,pk,flow_arr){// console.log(\"mapping through flow list\")\nif(flowItem.CashStream_Data.name===arr[id].name){// alert(arr[id].name)\nvar nullTd=[];var reversNullTd=[];var editDelete=[];for(var i=0;i<id;i++){nullTd.push(/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"td\",id:flowItem.id,children:\"0\"}),/*#__PURE__*/_jsx(\"div\",{className:\"td\",id:flowItem.id,children:\"0\"})]}));};for(var i=arr.length-1;id<i;i--){reversNullTd.push(/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"td\",id:flowItem.id,children:\"0\"}),/*#__PURE__*/_jsx(\"div\",{className:\"td\",id:flowItem.id,children:\"0\"})]}));};var date=moment(new Date(flowItem.created_at)).format('YYYY-MM-DD').replace(/-|:|[ \\t]/g,\"\");var time=moment(new Date(flowItem.created_at)).format('HH:mm:ss').replace(/-|:|[ \\t]/g,\"\");var sortByDateTime=date+time;setSn(flow_arr.length);newList.push(/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"tr\",id:flowItem.id,onMouseMove:mouseInEditDelete,onMouseOver:mouseInEditDelete,onMouseOut:mouseOutEditDelete,style:{width:\"calc((\".concat(stream.length,\" * var(--streamWidth)) + var(--periodWidth))\")},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"tr\",style:{position:'sticky',left:\"\".concat(0)},onMouseMove:mouseInEditDelete,onMouseOver:mouseInEditDelete,onMouseOut:mouseOutEditDelete,children:[/*#__PURE__*/_jsx(\"div\",{className:\"td ledgerSn desktop\",id:flowItem.id,children:pk+1}),/*#__PURE__*/_jsx(\"div\",{className:\"td ledgerDates\",id:flowItem.id,children:/*#__PURE__*/_jsx(\"small\",{style:{textAlign:'center'},children:/*#__PURE__*/_jsx(Moment,{format:\"DD/MM/YY HH:mm a\",children:flowItem.created_at})})}),/*#__PURE__*/_jsx(\"div\",{className:\"td discriptionTd\",id:flowItem.id,children:flowItem.description})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"tr\",children:[nullTd,/*#__PURE__*/_jsx(\"div\",{className:\"td\",id:flowItem.id,children:/*#__PURE__*/_jsx(NumberFormat,{value:flowItem.Credit,displayType:'text',thousandSeparator:true})}),/*#__PURE__*/_jsx(\"div\",{className:\"td\",id:flowItem.id,children:/*#__PURE__*/_jsx(NumberFormat,{value:flowItem.Debit,displayType:'text',thousandSeparator:true})}),reversNullTd]})]},sortByDateTime)}));}});});// console.log(\"finished setting new flow list whiling mapping\")\n// console.log('new list: '+newList)\n// console.log(newList)\n// console.log(\"setting flow\")\nsetFlow(newList);setEmptyTR(trEmpty);setTotal_balance(/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"tr\",style:{position:'sticky',left:\"\".concat(0)},children:/*#__PURE__*/_jsxs(\"div\",{id:\"total_balance_dummyBlock\",className:\"td period\",children:[/*#__PURE__*/_jsx(\"strong\",{children:/*#__PURE__*/_jsx(\"p\",{children:\"Total($)\"})}),/*#__PURE__*/_jsx(\"strong\",{children:/*#__PURE__*/_jsx(\"p\",{children:\"Balance($)\"})})]})}),total_balanceArr]}));};var addCashFlow=function addCashFlow(){if(true){var trEmpty=[];var data=Array.from(streamList);var total_balanceArr=[];// console.log('about to map stream and flow lists and set new list')\ndata.map(function(streamItem,id,arr){// console.log('mapping through stream list')\ntrEmpty.push(/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"td\"}),/*#__PURE__*/_jsx(\"div\",{className:\"td\"})]}));if(balances[streamItem.name]!==undefined){total_balanceArr.push(/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"streamHeader\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"th\",children:/*#__PURE__*/_jsx(NumberFormat,{value:balances[streamItem.name].total_Credit,displayType:'text',thousandSeparator:true// prefix={'$'}\n})}),/*#__PURE__*/_jsx(\"div\",{className:\"th\",children:/*#__PURE__*/_jsx(NumberFormat,{value:balances[streamItem.name].total_Debit,displayType:'text',thousandSeparator:true// prefix={'$'}\n})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"th stream th_stream\",children:/*#__PURE__*/_jsx(NumberFormat,{value:balances[streamItem.name].balance,displayType:'text',thousandSeparator:true// prefix={'$'}\n})})]}));}// let sn = flowSN\n// setFlowSN(flow_arr.length-pk)  \n// console.log(sn)  \nreturn flowList.map(function(flowItem,pk,flow_arr){// console.log(\"mapping through flow list\")\nif(flowItem.CashStream_Data.name===arr[id].name){// alert(arr[id].name)\nvar nullTd=[];var reversNullTd=[];var editDelete=[];for(var i=0;i<id;i++){nullTd.push(/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"td\",id:flowItem.id,children:\"0\"}),/*#__PURE__*/_jsx(\"div\",{className:\"td\",id:flowItem.id,children:\"0\"})]}));};for(var i=arr.length-1;id<i;i--){reversNullTd.push(/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"td\",id:flowItem.id,children:\"0\"}),/*#__PURE__*/_jsx(\"div\",{className:\"td\",id:flowItem.id,children:\"0\"})]}));};var date=moment(new Date(flowItem.created_at)).format('YYYY-MM-DD').replace(/-|:|[ \\t]/g,\"\");var time=moment(new Date(flowItem.created_at)).format('HH:mm:ss').replace(/-|:|[ \\t]/g,\"\");var sortByDateTime=date+time;setSn(sn+flow_arr.length);setFlow(function(oldArray){return[/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"tr\",id:flowItem.id,onMouseMove:mouseInEditDelete,onMouseOver:mouseInEditDelete,onMouseOut:mouseOutEditDelete,style:{width:\"calc((\".concat(stream.length,\" * var(--streamWidth)) + var(--periodWidth))\")},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"tr sticky_offset\",style:{position:'sticky',left:\"\".concat(0)},onMouseMove:mouseInEditDelete,onMouseOver:mouseInEditDelete,onMouseOut:mouseOutEditDelete,children:[/*#__PURE__*/_jsx(\"div\",{className:\"td ledgerSn desktop\",id:flowItem.id,children:sn+pk+1}),/*#__PURE__*/_jsx(\"div\",{className:\"td ledgerDates\",id:flowItem.id,children:/*#__PURE__*/_jsx(\"small\",{style:{textAlign:'center'},children:/*#__PURE__*/_jsx(Moment,{format:\"DD/MM/YY HH:mm a\",children:flowItem.created_at})})}),/*#__PURE__*/_jsx(\"div\",{className:\"td discriptionTd\",id:flowItem.id,children:flowItem.description})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"tr\",children:[nullTd,/*#__PURE__*/_jsx(\"div\",{className:\"td\",id:flowItem.id,children:/*#__PURE__*/_jsx(NumberFormat,{value:flowItem.Credit,displayType:'text',thousandSeparator:true// prefix={'$'}\n})}),/*#__PURE__*/_jsx(\"div\",{className:\"td\",id:flowItem.id,children:/*#__PURE__*/_jsx(NumberFormat,{value:flowItem.Debit,displayType:'text',thousandSeparator:true// prefix={'$'}\n})}),reversNullTd]})]},sortByDateTime)})].concat(_toConsumableArray(oldArray));});}});});// console.log(\"finished setting new flow list whiling mapping\")\n// console.log(\"setting flow\")\nsetEmptyTR(trEmpty);setTotal_balance(/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"tr\",style:{position:'sticky',left:\"\".concat(0)},children:/*#__PURE__*/_jsxs(\"div\",{id:\"total_balance_dummyBlock\",className:\"td\",children:[/*#__PURE__*/_jsx(\"strong\",{children:/*#__PURE__*/_jsx(\"p\",{children:\"Total($)\"})}),/*#__PURE__*/_jsx(\"strong\",{children:/*#__PURE__*/_jsx(\"p\",{children:\"Balance($)\"})})]})}),total_balanceArr]}));// setPage(page+1)\n}};var flow_Success=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(data,pagez){return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:// console.log('data extracton on flow successful')\n// console.log('setting flowList')\nsetFlowList(data.results[0]);setNextPage(data.next);// console.log(data.results)\nsetGrandTotal(data.results[1].grandTotal.total);setBalances(data.results[1]);setPriodStart(moment(new Date(data.results[2].firstDate.created_at)).format('YYYY-MM-DD'));setPriodEnd(moment(new Date(data.results[2].lastDate.created_at)).format('YYYY-MM-DD'));// console.log(data.results[1]['bank'].total_Credit)\n// console.log('finished setting flowList')\n// addFirst()\nif(pagez!==1){setAddCashFlow_Triger(addCashFlow_Triger+1);}case 7:case\"end\":return _context.stop();}}},_callee);}));return function flow_Success(_x,_x2){return _ref.apply(this,arguments);};}();useEffect(function(){if(page!==1){addCashFlow();}},[addCashFlow_Triger]);useEffect(function(){if(page===1){addFirst();}},[stream,access,flowList,flowPage]);var flow_fail=function flow_fail(text){console.log(\"Error: \",text);};var getData=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(pagez){return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:console.log('%c getting data','background:yellow; color:red');// if(nextPage !== null){\n_context2.next=3;return get_cashFlow(flow_Success,flow_fail,start_date,end_date,filterCategory,search,pagez,access,set_Access);case 3:// }else{\n//   console.log('%c end reached', 'background:yellow; color:red')\n//   console.log(`%c ${nextPage}`, 'background:yellow; color:red')\n// }\nif(pagez>1){setPage(page+1);}else{setPage(1);}// console.log(pagez)\n// console.log(page)\ncase 4:case\"end\":return _context2.stop();}}},_callee2);}));return function getData(_x3){return _ref2.apply(this,arguments);};}();var getMoreData=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(pagez){return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:if(!(pagez!==1)){_context3.next=11;break;}console.log('%c getting data','background:yellow; color:red');if(!(nextPage!==null)){_context3.next=7;break;}_context3.next=5;return get_cashFlow(flow_Success,flow_fail,start_date,end_date,filterCategory,search,pagez,access,set_Access);case 5:_context3.next=10;break;case 7:setHasMore(false);console.log('%c end reached','background:yellow; color:red');console.log(\"%c \".concat(nextPage),'background:yellow; color:red');case 10:setPage(page+1);case 11:case\"end\":return _context3.stop();}}},_callee3);}));return function getMoreData(_x4){return _ref3.apply(this,arguments);};}();useEffect(function(){// console.log(\"flow useEffet getting data\")\n// if(page === 1){\nsetNextPage(1);getData(1);document.getElementsByClassName('tbody_class')[0].scrollTo(0,0);// }\nconsole.log(search);},[streamList,stream,reRender,search,start_date,end_date]);var deleteFlowData=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee4(){return _regeneratorRuntime().wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return delete_cashFlow(flowId,function(){getData(1);},access,set_Access);case 2:// getData()\nsetDisplay(\"none\");case 3:case\"end\":return _context4.stop();}}},_callee4);}));return function deleteFlowData(){return _ref4.apply(this,arguments);};}();var editFlowData=/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee5(){return _regeneratorRuntime().wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:setEditFlowIsOpen(true);prop.blur(8);// await edit_cashFlow(flowId, description, selectd_Streamm, credit, debit, () =>{getData(1)}, access, set_Access);\n// // getData()\n// setDisplay(\"none\")\ncase 2:case\"end\":return _context5.stop();}}},_callee5);}));return function editFlowData(){return _ref5.apply(this,arguments);};}();var mouseInEditDelete=function mouseInEditDelete(e){var target=e.target;var scrolled_by=document.getElementsByClassName('tbody_class')[0].scrollTop;if(target.offsetTop===0){var sticky_offset=flowList.length-target.parentElement.firstChild.innerText;var id=sticky_offset;var sticky_scroll=document.getElementsByClassName('sticky_offset')[id].offsetTop;setoffsetTop(sticky_scroll-scrolled_by);}else{setoffsetTop(target.offsetTop-scrolled_by);}setFlowId(target.id);setTrHeight(target.scrolled_by);setDisplay(\"flex\");};var mouseOutEditDelete=function mouseOutEditDelete(){// alert('mouce out')\nsetDisplay(\"none\");};// const sortedFlow = flow.sort(function(a, b){return a.props.children.key - b.props.children.key})\nvar sortedFlow=flow.sort(function(a,b){return b.props.children.key-a.props.children.key;});return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(ScrollSyncPane,{children:/*#__PURE__*/_jsx(\"div\",{id:\"tbody\",className:\"tbody_class\",children:/*#__PURE__*/_jsxs(InfiniteScroll,{dataLength:flow.length,next:function next(){getMoreData(page+1);},style:{display:'flex',flexDirection:'column-reverse',overflow:'unset'}//To put endMessage and loader to the top.\n,inverse:true//\n,hasMore:HasMore,loader:/*#__PURE__*/_jsx(\"h4\",{children:\"loading...\"}),scrollableTarget:\"tbody\"// scrollThreshold='200px'\n,endMessage:/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(\"b\",{style:{textAlign:\"center\",position:'sticky',left:'25vw',fontSize:\"0.8vw\"},children:\"End of record reached\"})}),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"tr\",id:\"addTr\",style:{width:\"calc((\".concat(stream.length,\" * var(--streamWidth)) + var(--periodWidth))\")},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"tr\",style:{position:'sticky',left:\"\".concat(0)},children:[/*#__PURE__*/_jsx(\"div\",{className:\"td ledgerSn desktop\"}),/*#__PURE__*/_jsx(\"div\",{className:\"td ledgerDates\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"td discriptionTd\",children:[/*#__PURE__*/_jsxs(\"button\",{className:\"desktop\",onClick:function onClick(){setCreateFlowIsOpen(true);prop.blur(8);},children:[\" \",/*#__PURE__*/_jsx(\"span\",{}),\" Add\"]}),/*#__PURE__*/_jsxs(NavLink,{id:\"mobileAddLedger\",className:\"mobile\",to:\"/ledger/CreateFlow\",children:[/*#__PURE__*/_jsx(\"span\",{}),\" Add\"]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"tr\",children:emptyTR})]}),sortedFlow]})})}),/*#__PURE__*/_jsxs(\"div\",{id:\"EditDeleteOverlay\",onMouseOver:function onMouseOver(){setDisplay(\"flex\");},onMouseOut:mouseOutEditDelete,style:{display:display,top:offsetTop,height:trHeight},children:[/*#__PURE__*/_jsx(\"button\",{id:\"deleteBtn\",onClick:deleteFlowData}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(NavLink,{id:\"mobileAddLedger\",className:\"mobile\",to:\"/ledger/editFlow\",children:/*#__PURE__*/_jsx(\"button\",{className:\"mobile editBtn\"})}),/*#__PURE__*/_jsx(\"button\",{className:\"desktop editBtn\",onClick:editFlowData})]})]});}export default FlowDomManagement;","map":{"version":3,"names":["React","useState","useEffect","useMemo","get_cashFlow","delete_cashFlow","edit_cashFlow","useGlobalState","useAccess","useEffectOnce","ScrollSync","ScrollSyncPane","Moment","moment","NumberFormat","InfiniteScroll","NavLink","FlowDomManagement","prop","flowList","setFlowList","flow","setFlow","flowPage","setFlowPage","emptyTR","setEmptyTR","balances","setBalances","page","setPage","nextPage","setNextPage","addCashFlow_Triger","setAddCashFlow_Triger","sn","setSn","HasMore","setHasMore","access","setAccess","createFlowModalIsOpen","setCreateFlowIsOpen","editFlowIsOpen","setEditFlowIsOpen","reRender","setReRender","streamList","setStreamList","stream","setStream","priodStart","setPriodStart","priodEnd","setPriodEnd","start_date","setStart_date","end_date","setEnd_date","filterCategory","setFilterCategory","search","setSearch","flowId","setFlowId","total_balance","setTotal_balance","grandTotal","setGrandTotal","display","setDisplay","offsetTop","setoffsetTop","trHeight","setTrHeight","set_Access","Access_token","addFirst","newList","trEmpty","data","Array","from","total_balanceArr","map","streamItem","id","arr","push","name","undefined","total_Credit","total_Debit","balance","flowItem","pk","flow_arr","CashStream_Data","nullTd","reversNullTd","editDelete","i","length","date","Date","created_at","format","replace","time","sortByDateTime","mouseInEditDelete","mouseOutEditDelete","width","position","left","textAlign","description","Credit","Debit","addCashFlow","oldArray","flow_Success","pagez","results","next","total","firstDate","lastDate","flow_fail","text","console","log","getData","getMoreData","document","getElementsByClassName","scrollTo","deleteFlowData","editFlowData","blur","e","target","scrolled_by","scrollTop","sticky_offset","parentElement","firstChild","innerText","sticky_scroll","sortedFlow","sort","a","b","props","children","key","flexDirection","overflow","fontSize","top","height"],"sources":["/home/gcg/Desktop/Programing /python/Django main projects/projects/businessManagement/react_BusinessManagement/src/features/ledger/components/Flow.js"],"sourcesContent":["import React from 'react'\nimport { useState, useEffect, useMemo } from 'react';\nimport {get_cashFlow, delete_cashFlow, edit_cashFlow} from './api/cashFow_CRUD'\nimport useGlobalState from \"../../../Store_&_State/GlobalState\"\nimport useAccess from \"../../auths/accessToken\"\nimport {useEffectOnce} from \"../../../custom_Hooks/useEffectOnce\"\nimport { ScrollSync, ScrollSyncPane } from 'react-scroll-sync';\nimport Moment from 'react-moment';\nimport moment from \"moment\";\nimport NumberFormat from 'react-number-format';\nimport InfiniteScroll from 'react-infinite-scroll-component';\nimport { NavLink } from \"react-router-dom\";\n\nfunction FlowDomManagement(prop) {\n  const [flowList, setFlowList] = useState([]);\n  const [flow, setFlow] = useState([]);\n  // const [flowPages, setFlowPages] = useState([]);\n  const [flowPage, setFlowPage] = useState(0);\n  // const [flow_DateSorted, setFlow_DateSorted] = useState([]);\n  const [emptyTR, setEmptyTR] = useState([]);\n  // const [flowId, setFlowId] = useState([]);\n  // const [currentStream, setCurrentStream] = useState([]);\n  const [balances, setBalances] = useState([]);\n\tconst [page, setPage] = useState(1);\n\tconst [nextPage, setNextPage] = useState(1);\n\tconst [addCashFlow_Triger, setAddCashFlow_Triger] = useState(1);\n\tconst [sn, setSn] = useState(0);\n\tconst [HasMore, setHasMore] = useState(true);\n\n\t// const [count, setCcount] = useState(1);\n  \n\n  const {access, setAccess} = useAccess('')\n  const {createFlowModalIsOpen, setCreateFlowIsOpen} = useGlobalState([]);\n  const {editFlowIsOpen, setEditFlowIsOpen} = useGlobalState([]);\n  const {reRender, setReRender} = useGlobalState([0]);\n\n  const {streamList, setStreamList} = useGlobalState([]);\n  const {stream, setStream} = useGlobalState([]);\n  const {priodStart, setPriodStart} = useGlobalState([]);\n  const {priodEnd, setPriodEnd} = useGlobalState([]);\n  \n  const {start_date, setStart_date} = useGlobalState(''); \n  const {end_date, setEnd_date} = useGlobalState('');\n  const {filterCategory, setFilterCategory} = useGlobalState('');\n  const {search, setSearch} = useGlobalState('');\n\n  const {flowId, setFlowId} = useGlobalState([]);\n\n\n  const {total_balance, setTotal_balance} = useGlobalState([]);\n  const {grandTotal, setGrandTotal} = useGlobalState('');\n  \n\n  const [display, setDisplay] = useState(\"none\");\n  const [offsetTop, setoffsetTop] = useState(0);\n  const [trHeight, setTrHeight] = useState(0);\n\n\n  // .......................... Access .............................................................................\n  const set_Access = (Access_token) => {\n    setAccess(Access_token)\n  }\n  \n  useEffectOnce(() => {\n      set_Access()\n    },[]\n  )\n\n  // .......................... cashflow add function .............................................................................\n  const addFirst = () => {\n    // console.log(\"preparing to send flow to the DOM\")\n\n    let newList = []\n    const trEmpty = []\n    const data = Array.from(streamList)\n\n    let total_balanceArr = []\n\n    // console.log('about to map stream and flow lists and set new list')\n    data.map(\n        function(streamItem, id, arr){\n          // console.log('mapping through stream list')\n\n          trEmpty.push(\n            <>\n              <div className=\"td\" ></div>\n              <div className=\"td\" ></div>\n            </>\n          );\n\n          if (balances[streamItem.name] !== undefined){\n            total_balanceArr.push(\n              <div id='totalBalance2'>\n                <div className='streamHeader'>\n                  <div className=\"th\" >\n                    <NumberFormat\n                      value={balances[streamItem.name].total_Credit}\n                      displayType={'text'}\n                      thousandSeparator={true}\n                      // prefix={'$'}\n                    />\n                  </div>\n                  <div className=\"th\" >\n                    <NumberFormat\n                      value={balances[streamItem.name].total_Debit}\n                      displayType={'text'}\n                      thousandSeparator={true}\n                      // prefix={'$'}\n                    />\n                  </div>\n                </div>\n  \n                <div className=\"th stream th_stream\">\n                  <NumberFormat\n                    value={balances[streamItem.name].balance}\n                    displayType={'text'}\n                    thousandSeparator={true}\n                    // prefix={'$'}\n                  />\n                </div>\n              </div>\n            )\n          }\n          \n          return (\n              flowList.map(\n                function(flowItem, pk, flow_arr){\n                  // console.log(\"mapping through flow list\")\n\n                  if (flowItem.CashStream_Data.name === arr[id].name){\n                    // alert(arr[id].name)\n                  const nullTd = [];\n                  const reversNullTd = [];\n                  const editDelete = [];\n\n                    for( var i =0; i < id; i++ ){\n                      nullTd.push(\n                        <>\n                          <div className=\"td\" id={flowItem.id} >0</div>\n                          <div className=\"td\" id={flowItem.id} >0</div>\n                        </>\n                      );\n                    };\n\n                    for(var i = (arr.length-1); id < i; i-- ){\n                      reversNullTd.push(\n                        <>\n                          <div className=\"td\" id={flowItem.id} >0</div>\n                          <div className=\"td\" id={flowItem.id} >0</div>\n                        </>\n                      );\n\n                    };\n\n                    const date = moment(new Date(flowItem.created_at)).format('YYYY-MM-DD').replace(/-|:|[ \\t]/g,\"\");\n                    const time = moment(new Date(flowItem.created_at)).format('HH:mm:ss').replace(/-|:|[ \\t]/g,\"\");\n                    const sortByDateTime = date+time\n\n                    setSn(flow_arr.length)\n                    \n                    newList.push( \n                      <>\n                        <div  className=\"tr\" key={sortByDateTime} id={flowItem.id} onMouseMove={mouseInEditDelete} onMouseOver={mouseInEditDelete} onMouseOut={mouseOutEditDelete} style={{ width:`calc((${stream.length} * var(--streamWidth)) + var(--periodWidth))`}}>\n                          <div className=\"tr\" style={{ position: 'sticky', left: `${0}`}} onMouseMove={mouseInEditDelete} onMouseOver={mouseInEditDelete} onMouseOut={mouseOutEditDelete}>\n                            <div className=\"td ledgerSn desktop\" id={flowItem.id}>{pk+1}</div> \n                            <div className=\"td ledgerDates\" id={flowItem.id}> \n                              <small style={{textAlign:'center'}}>\n                                <Moment format=\"DD/MM/YY HH:mm a\">\n                                  {flowItem.created_at}\n                                </Moment>\n                              </small>\n                            </div>\n                            <div className=\"td discriptionTd\" id={flowItem.id} >{flowItem.description}</div>\n                          </div>\n                          <div className='tr'>\n                            {nullTd}\n                            <div className=\"td\" id={flowItem.id} >\n                              \n                              <NumberFormat\n                                value={flowItem.Credit}\n                                displayType={'text'}\n                                thousandSeparator={true}\n                              />\n                            </div>\n                            <div className=\"td\" id={flowItem.id} >\n                            <NumberFormat\n                                value={flowItem.Debit}\n                                displayType={'text'}\n                                thousandSeparator={true}\n                              />\n                            </div> \n                            {reversNullTd}\n                          </div>\n                        </div>\n                      </>\n                    )\n                  }\n                }\n              )\n        )\n        }\n      )\n      \n    // console.log(\"finished setting new flow list whiling mapping\")\n    // console.log('new list: '+newList)\n    // console.log(newList)\n    // console.log(\"setting flow\")\n    setFlow( newList );\n    setEmptyTR(trEmpty)\n    setTotal_balance(\n      <>\n        <div className=\"tr\" style={{ position: 'sticky', left: `${0}`}}>\n          <div id='total_balance_dummyBlock' className=\"td period\" >\n            <strong><p>Total($)</p></strong>\n            <strong><p>Balance($)</p></strong>\n          </div>\n        </div>\n\n        {total_balanceArr}\n      </>\n    )\n  }\n\n  const addCashFlow = () => {\n    if(true){\n        const trEmpty = []\n        const data = Array.from(streamList)\n  \n        let total_balanceArr = []\n  \n        // console.log('about to map stream and flow lists and set new list')\n        data.map(\n            function(streamItem, id, arr){\n              // console.log('mapping through stream list')\n  \n              trEmpty.push(\n                <>\n                  <div className=\"td\" ></div>\n                  <div className=\"td\" ></div>\n                </>\n              );\n  \n              if (balances[streamItem.name] !== undefined){\n                total_balanceArr.push(\n                  <div>\n                    <div className='streamHeader'>\n                      <div className=\"th\" >\n                        <NumberFormat\n                          value={balances[streamItem.name].total_Credit}\n                          displayType={'text'}\n                          thousandSeparator={true}\n                          // prefix={'$'}\n                        />\n                      </div>\n                      <div className=\"th\" >\n                        <NumberFormat\n                          value={balances[streamItem.name].total_Debit}\n                          displayType={'text'}\n                          thousandSeparator={true}\n                          // prefix={'$'}\n                        />\n                      </div>\n                    </div>\n      \n                    <div className=\"th stream th_stream\" >\n                      <NumberFormat\n                        value={balances[streamItem.name].balance}\n                        displayType={'text'}\n                        thousandSeparator={true}\n                        // prefix={'$'}\n                      />\n                    </div>\n                  </div>\n                )\n              }\n              \n              // let sn = flowSN\n              // setFlowSN(flow_arr.length-pk)  \n              // console.log(sn)  \n              return (\n                flowList.map(\n                  function(flowItem, pk, flow_arr){\n                    // console.log(\"mapping through flow list\")\n                    \n                    if (flowItem.CashStream_Data.name === arr[id].name){\n                      // alert(arr[id].name)\n                    const nullTd = [];\n                    const reversNullTd = [];\n                    const editDelete = [];\n  \n                      for( var i =0; i < id; i++ ){\n                        nullTd.push(\n                          <>\n                            <div className=\"td\" id={flowItem.id} >0</div>\n                            <div className=\"td\" id={flowItem.id} >0</div>\n                          </>\n                        );\n                      };\n  \n                      for(var i = (arr.length-1); id < i; i-- ){\n                        reversNullTd.push(\n                          <>\n                            <div className=\"td\" id={flowItem.id} >0</div>\n                            <div className=\"td\" id={flowItem.id} >0</div>\n                          </>\n                        );\n  \n                      };\n  \n                      const date = moment(new Date(flowItem.created_at)).format('YYYY-MM-DD').replace(/-|:|[ \\t]/g,\"\");\n                      const time = moment(new Date(flowItem.created_at)).format('HH:mm:ss').replace(/-|:|[ \\t]/g,\"\");\n                      const sortByDateTime = date+time\n\n                      setSn(sn + flow_arr.length)\n\n                      setFlow(oldArray => [ ( \n                          <>\n                            <div  className=\"tr\" key={sortByDateTime} id={flowItem.id} onMouseMove={mouseInEditDelete} onMouseOver={mouseInEditDelete} onMouseOut={mouseOutEditDelete} style={{ width:`calc((${stream.length} * var(--streamWidth)) + var(--periodWidth))`}}>\n                              <div className=\"tr sticky_offset\" style={{ position: 'sticky', left: `${0}`}} onMouseMove={mouseInEditDelete} onMouseOver={mouseInEditDelete} onMouseOut={mouseOutEditDelete}>\n                                <div className=\"td ledgerSn desktop\" id={flowItem.id}>{sn+pk+1}</div> \n                                <div className=\"td ledgerDates\" id={flowItem.id}> \n                                  <small style={{textAlign:'center'}}>\n                                    <Moment format=\"DD/MM/YY HH:mm a\">\n                                      {flowItem.created_at}\n                                    </Moment>\n                                  </small>\n                                </div>\n                                <div className=\"td discriptionTd\" id={flowItem.id}>{flowItem.description}</div>\n                              </div>\n                              {/* {moment(new Date(flowItem.created_at.slice(0, 10))).format('DD-MM-YYYY')} */}\n                              <div className='tr'>\n                                {nullTd}\n                                <div className=\"td\" id={flowItem.id} >\n                                  \n                                  <NumberFormat\n                                    value={flowItem.Credit}\n                                    displayType={'text'}\n                                    thousandSeparator={true}\n                                    // prefix={'$'}\n                                  />\n                                </div>\n                                <div className=\"td\" id={flowItem.id} >\n                                <NumberFormat\n                                    value={flowItem.Debit}\n                                    displayType={'text'}\n                                    thousandSeparator={true}\n                                    // prefix={'$'}\n                                  />\n                                </div> \n                                {reversNullTd}\n                              </div>\n                            </div>\n                          </>\n                        ), ...oldArray\n                      ])\n                    }\n                  }\n                )\n              )\n            }\n          )\n          \n        // console.log(\"finished setting new flow list whiling mapping\")\n        // console.log(\"setting flow\")\n        setEmptyTR(trEmpty)\n        setTotal_balance(\n          <>\n            <div className=\"tr\" style={{ position: 'sticky', left: `${0}`}}>\n              <div id='total_balance_dummyBlock' className=\"td\" >\n                <strong><p>Total($)</p></strong>\n                <strong><p>Balance($)</p></strong>\n              </div>\n            </div>\n\n            {total_balanceArr}\n          </>\n        )  \n        // setPage(page+1)\n    }   \n  }\n\n\n  const flow_Success = async(data, pagez) => {\n    // console.log('data extracton on flow successful')\n    // console.log('setting flowList')\n\n    setFlowList(data.results[0]);\n    setNextPage(data.next)\n    // console.log(data.results)\n    setGrandTotal(data.results[1].grandTotal.total)\n    setBalances(data.results[1])\n\n    setPriodStart(moment(new Date(data.results[2].firstDate.created_at)).format('YYYY-MM-DD'))\n    setPriodEnd(moment(new Date(data.results[2].lastDate.created_at)).format('YYYY-MM-DD'))\n    // console.log(data.results[1]['bank'].total_Credit)\n    // console.log('finished setting flowList')\n    // addFirst()\n\n    if(pagez !== 1){\n      setAddCashFlow_Triger(addCashFlow_Triger+1)\n    }\n\n  };\n\n  useEffect(() => {\n    if(page !== 1){\n      addCashFlow()\n    }\n    },[addCashFlow_Triger]\n  )\n  useEffect(() => {\n    if(page === 1){\n      addFirst()\n    }\n    },[stream, access,flowList,flowPage]\n  )\n\n  const flow_fail = (text) => {\n    console.log(\"Error: \", text)\n  }\n\n  const getData = async(pagez)=>{\n    console.log('%c getting data', 'background:yellow; color:red')\n\n    // if(nextPage !== null){\n      await get_cashFlow(flow_Success, flow_fail, start_date, end_date, filterCategory, search, pagez, access, set_Access,);\n    // }else{\n    //   console.log('%c end reached', 'background:yellow; color:red')\n    //   console.log(`%c ${nextPage}`, 'background:yellow; color:red')\n    // }\n\n    if(pagez>1){\n      setPage(page+1)      \n    }else{\n      setPage(1)\n    }\n    // console.log(pagez)\n    // console.log(page)\n  };  \n\n  const getMoreData = async(pagez)=>{\n    if(pagez !== 1){\n      console.log('%c getting data', 'background:yellow; color:red')\n\n      if(nextPage !== null){\n        await get_cashFlow(flow_Success, flow_fail, start_date, end_date, filterCategory, search, pagez, access, set_Access,);\n      }else{\n        setHasMore(false)\n        console.log('%c end reached', 'background:yellow; color:red')\n        console.log(`%c ${nextPage}`, 'background:yellow; color:red')\n      }\n\n    \n      setPage(page+1)      \n    }\n    // console.log(pagez)\n    // console.log(page)\n  };\n\n  useEffect(()=>{\n    // console.log(\"flow useEffet getting data\")\n    // if(page === 1){\n      setNextPage(1);\n      getData(1);\n      document.getElementsByClassName('tbody_class')[0].scrollTo(0,0)\n    // }\n    console.log(search)\n  }, [streamList, stream, reRender, search, start_date, end_date]);\n\n  const deleteFlowData = async()=>{\n    await delete_cashFlow(flowId, () =>{getData(1)}, access, set_Access);\n    // getData()\n    setDisplay(\"none\")\n  };\n\n  const editFlowData = async()=>{\n    setEditFlowIsOpen(true); prop.blur(8)\n    // await edit_cashFlow(flowId, description, selectd_Streamm, credit, debit, () =>{getData(1)}, access, set_Access);\n    // // getData()\n    // setDisplay(\"none\")\n  };\n  \n  const mouseInEditDelete = (e) => {\n    let target = e.target\n    let scrolled_by = document.getElementsByClassName('tbody_class')[0].scrollTop\n    \n    if (target.offsetTop===0){\n      const sticky_offset = flowList.length-target.parentElement.firstChild.innerText\n      const id = sticky_offset\n      let sticky_scroll = document.getElementsByClassName('sticky_offset')[id].offsetTop\n      setoffsetTop(sticky_scroll-scrolled_by)\n    }else{\n      setoffsetTop(target.offsetTop - scrolled_by)\n    }\n    \n    setFlowId(target.id)\n    setTrHeight(target.scrolled_by)\n    setDisplay(\"flex\")\n  }\n  \n  const mouseOutEditDelete = () => {\n    // alert('mouce out')\n    setDisplay(\"none\")\n  }\n  \n\n  \n  // const sortedFlow = flow.sort(function(a, b){return a.props.children.key - b.props.children.key})\n  const sortedFlow = flow.sort(function(a, b){return b.props.children.key - a.props.children.key})\n  return (\n    <>\n    <ScrollSyncPane>\n      <div id=\"tbody\" className='tbody_class'>\n        <InfiniteScroll\n          dataLength={flow.length}\n          next={() => {getMoreData(page+1);}}\n          style={{ display: 'flex', flexDirection: 'column-reverse', overflow:'unset' }} //To put endMessage and loader to the top.\n          inverse={true} //\n          hasMore={HasMore}\n          loader={<h4>loading...</h4>}\n          scrollableTarget=\"tbody\"\n          // scrollThreshold='200px'\n          endMessage={\n            <p>\n              <b style={{ textAlign: \"center\", position: 'sticky', left:'25vw', fontSize:\"0.8vw\" }}>End of record reached</b>\n            </p>\n          }\n        >\n          {/* {sortedFlow} */}\n\n          <div className=\"tr\" id=\"addTr\" style={{ width:`calc((${stream.length} * var(--streamWidth)) + var(--periodWidth))`}}>\n            <div  className=\"tr\" style={{position: 'sticky', left: `${0}` }}>\n              <div className=\"td ledgerSn desktop\" ></div> \n              <div className=\"td ledgerDates\"></div>\n              <div className=\"td discriptionTd\" >\n                <button  className='desktop'  onClick={()=>{setCreateFlowIsOpen(true); prop.blur(8)}}> <span></span> Add</button> \n                <NavLink id='mobileAddLedger' className='mobile' to=\"/ledger/CreateFlow\">\n                    <span></span> Add\n                </NavLink>\n              </div>\n            </div>\n            <div className=\"tr\">{emptyTR}</div>\n          </div>\n          {sortedFlow}\n        </InfiniteScroll>\n      </div>\n    </ScrollSyncPane>\n\n        \n    <div id=\"EditDeleteOverlay\" onMouseOver={()=>{ setDisplay(\"flex\") }} onMouseOut={mouseOutEditDelete} style={{  display:display, top:offsetTop, height:trHeight}} >\n      <button id='deleteBtn' onClick={deleteFlowData} ></button><br/>\n      <NavLink id='mobileAddLedger' className='mobile' to=\"/ledger/editFlow\">\n        <button className='mobile editBtn'></button>\n      </NavLink>\n      <button className='desktop editBtn' onClick={editFlowData}></button>\n    </div>\n    </>\n  )\n}\n\n\nexport default FlowDomManagement\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}
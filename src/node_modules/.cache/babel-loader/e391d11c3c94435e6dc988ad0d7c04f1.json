{"ast":null,"code":"const login_api = async (email, password, success, fail) => {\n  const response = await fetch(`http://127.0.0.1:8000/user/login/`, {\n    method: 'POST',\n    headers: {\n      'Accept': 'application/json',\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({\n      \"email\": email,\n      \"password\": password\n    }),\n    cache: 'no-cache',\n    // *default, no-cache, reload, force-cache, only-\n    // credentials: \"same-origin\"\n    credentials: \"include\"\n  });\n  const text = await response.text();\n\n  if (response.status === 200) {\n    console.log(\"success\", JSON.parse(text));\n    success(JSON.parse(text));\n  } else {\n    console.log(\"failed\", text);\n    Object.entries(JSON.parse(text)).forEach(_ref => {\n      let [key, value] = _ref;\n      fail(`${key}: ${value}`);\n    });\n  }\n};\n\nexport default login_api;","map":{"version":3,"names":["login_api","email","password","success","fail","response","fetch","method","headers","body","JSON","stringify","cache","credentials","text","status","console","log","parse","Object","entries","forEach","key","value"],"sources":["/home/gcg/Desktop/Programing /python/Django main projects/projects/businessManagement/react_BusinessManagement/src/features/login/components/api/login_api.js"],"sourcesContent":["const login_api = async (email, password, success, fail) => {\n  const response = await fetch(\n        `http://127.0.0.1:8000/user/login/`,\n        {\n            method: 'POST',\n            headers: {\n                'Accept': 'application/json',\n                'Content-Type': 'application/json',\n            },\n            body: JSON.stringify({\n              \"email\": email,\n              \"password\": password,\n            }),\n            cache: 'no-cache', // *default, no-cache, reload, force-cache, only-\n            // credentials: \"same-origin\"\n            credentials: \"include\"\n        }\n    );\n  const text = await response.text();\n  if (response.status === 200) {\n    console.log(\"success\", JSON.parse(text));\n    success(JSON.parse(text));\n  } else {\n    console.log(\"failed\", text);\n    Object.entries(JSON.parse(text)).forEach(([key, value])=>{\n      fail(`${key}: ${value}`);\n    });\n  }\n};\n\nexport default login_api"],"mappings":"AAAA,MAAMA,SAAS,GAAG,OAAOC,KAAP,EAAcC,QAAd,EAAwBC,OAAxB,EAAiCC,IAAjC,KAA0C;EAC1D,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CACrB,mCADqB,EAEtB;IACIC,MAAM,EAAE,MADZ;IAEIC,OAAO,EAAE;MACL,UAAU,kBADL;MAEL,gBAAgB;IAFX,CAFb;IAMIC,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;MACnB,SAASV,KADU;MAEnB,YAAYC;IAFO,CAAf,CANV;IAUIU,KAAK,EAAE,UAVX;IAUuB;IACnB;IACAC,WAAW,EAAE;EAZjB,CAFsB,CAA5B;EAiBA,MAAMC,IAAI,GAAG,MAAMT,QAAQ,CAACS,IAAT,EAAnB;;EACA,IAAIT,QAAQ,CAACU,MAAT,KAAoB,GAAxB,EAA6B;IAC3BC,OAAO,CAACC,GAAR,CAAY,SAAZ,EAAuBP,IAAI,CAACQ,KAAL,CAAWJ,IAAX,CAAvB;IACAX,OAAO,CAACO,IAAI,CAACQ,KAAL,CAAWJ,IAAX,CAAD,CAAP;EACD,CAHD,MAGO;IACLE,OAAO,CAACC,GAAR,CAAY,QAAZ,EAAsBH,IAAtB;IACAK,MAAM,CAACC,OAAP,CAAeV,IAAI,CAACQ,KAAL,CAAWJ,IAAX,CAAf,EAAiCO,OAAjC,CAAyC,QAAgB;MAAA,IAAf,CAACC,GAAD,EAAMC,KAAN,CAAe;MACvDnB,IAAI,CAAE,GAAEkB,GAAI,KAAIC,KAAM,EAAlB,CAAJ;IACD,CAFD;EAGD;AACF,CA5BD;;AA8BA,eAAevB,SAAf"},"metadata":{},"sourceType":"module"}
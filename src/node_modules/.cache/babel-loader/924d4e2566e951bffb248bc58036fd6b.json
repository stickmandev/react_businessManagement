{"ast":null,"code":"import { verifyTokens } from \"../../../auths/verifyTokens\";\nimport { backendURL } from \"../../../../backendURL\";\nexport const get_cashStream = async function () {\n  let pageNo = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"\";\n  let streamFilter = arguments.length > 1 ? arguments[1] : undefined;\n  let success = arguments.length > 2 ? arguments[2] : undefined;\n  let fail = arguments.length > 3 ? arguments[3] : undefined;\n  let access = arguments.length > 4 ? arguments[4] : undefined;\n  let set_access = arguments.length > 5 ? arguments[5] : undefined;\n  console.log(streamFilter.toString().replace(/,/g, \"\"));\n\n  const success_Status = async (status, access_token) => {\n    if (status === 200) {\n      if (streamFilter === '') {\n        const response = await fetch(`${backendURL}/backend_Ledger/cashstream/`, {\n          method: 'GET',\n          headers: {\n            'Content-Type': 'Application/JSON',\n            'Authorization': `Bearer ${access_token}`\n          }\n        });\n        const text = await response.text();\n\n        if (response.status === 401) {\n          // console.log(\"accesstoken not valid\");\n          alert(\"you are not authorized to view this page\");\n          window.location.assign(\"/login\");\n          return [];\n        }\n\n        if (response.status === 200) {\n          // console.log(\"success\", JSON.parse(text));\n          success(JSON.parse(text));\n        } else {\n          // console.log(\"failed\", text);\n          Object.entries(JSON.parse(text)).forEach(_ref => {\n            let [key, value] = _ref;\n            fail(`${key}: ${value}`);\n          });\n        }\n      } else {}\n\n      const response = await fetch(`${backendURL}/backend_Ledger/cashstream/`, {\n        method: 'GET',\n        headers: {\n          'Content-Type': 'Application/JSON',\n          'Authorization': `Bearer ${access_token}`\n        }\n      });\n      const text = await response.text();\n\n      if (response.status === 401) {\n        // console.log(\"accesstoken not valid\");\n        alert(\"you are not authorized to view this page\");\n        window.location.assign(\"/login\");\n        return [];\n      }\n\n      if (response.status === 200) {\n        // console.log(\"success\", JSON.parse(text));\n        success(JSON.parse(text));\n      } else {\n        // console.log(\"failed\", text);\n        Object.entries(JSON.parse(text)).forEach(_ref2 => {\n          let [key, value] = _ref2;\n          fail(`${key}: ${value}`);\n        });\n      }\n    }\n  };\n\n  verifyTokens(access, set_access, success_Status);\n  success_Status();\n};","map":{"version":3,"names":["verifyTokens","backendURL","get_cashStream","pageNo","streamFilter","success","fail","access","set_access","console","log","toString","replace","success_Status","status","access_token","response","fetch","method","headers","text","alert","window","location","assign","JSON","parse","Object","entries","forEach","key","value"],"sources":["/home/gcg/Desktop/Programing /python/Django main projects/projects/businessManagement/react_BusinessManagement/src/features/ledger/components/api/cashStream_CRUD.js"],"sourcesContent":["import {verifyTokens} from \"../../../auths/verifyTokens\"\nimport {backendURL} from \"../../../../backendURL\"\n\n\nexport const get_cashStream = async (pageNo=\"\", streamFilter, success, fail, access, set_access) => {\n  console.log(streamFilter.toString().replace(/,/g,\"\"))\n\n  const success_Status = async(status, access_token) => {\n    if (status  === 200){\n      if(streamFilter===''){\n        const response = await fetch(\n          `${backendURL}/backend_Ledger/cashstream/`,\n          {\n              method: 'GET',\n              headers: {\n                'Content-Type': 'Application/JSON',\n                'Authorization': `Bearer ${access_token}`,\n              }\n          }\n        );\n        const text = await response.text();\n        if (response.status === 401) {\n          // console.log(\"accesstoken not valid\");\n          alert(\"you are not authorized to view this page\")\n          window.location.assign(\"/login\");\n          return [];\n        }\n        if (response.status === 200) {\n          // console.log(\"success\", JSON.parse(text));\n          success(JSON.parse(text));\n        } else {\n          // console.log(\"failed\", text);\n          Object.entries(JSON.parse(text)).forEach(([key, value])=>{\n            fail(`${key}: ${value}`);\n          });\n        }\n      }else{\n        \n      }\n      const response = await fetch(\n        `${backendURL}/backend_Ledger/cashstream/`,\n        {\n            method: 'GET',\n            headers: {\n              'Content-Type': 'Application/JSON',\n              'Authorization': `Bearer ${access_token}`,\n            }\n        }\n      );\n      const text = await response.text();\n      if (response.status === 401) {\n        // console.log(\"accesstoken not valid\");\n        alert(\"you are not authorized to view this page\")\n        window.location.assign(\"/login\");\n        return [];\n      }\n      if (response.status === 200) {\n        // console.log(\"success\", JSON.parse(text));\n        success(JSON.parse(text));\n      } else {\n        // console.log(\"failed\", text);\n        Object.entries(JSON.parse(text)).forEach(([key, value])=>{\n          fail(`${key}: ${value}`);\n        });\n      }\n    }\n  }\n\n    verifyTokens(access, set_access, success_Status)\n\n    success_Status()\n};\n"],"mappings":"AAAA,SAAQA,YAAR,QAA2B,6BAA3B;AACA,SAAQC,UAAR,QAAyB,wBAAzB;AAGA,OAAO,MAAMC,cAAc,GAAG,kBAAsE;EAAA,IAA/DC,MAA+D,uEAAxD,EAAwD;EAAA,IAApDC,YAAoD;EAAA,IAAtCC,OAAsC;EAAA,IAA7BC,IAA6B;EAAA,IAAvBC,MAAuB;EAAA,IAAfC,UAAe;EAClGC,OAAO,CAACC,GAAR,CAAYN,YAAY,CAACO,QAAb,GAAwBC,OAAxB,CAAgC,IAAhC,EAAqC,EAArC,CAAZ;;EAEA,MAAMC,cAAc,GAAG,OAAMC,MAAN,EAAcC,YAAd,KAA+B;IACpD,IAAID,MAAM,KAAM,GAAhB,EAAoB;MAClB,IAAGV,YAAY,KAAG,EAAlB,EAAqB;QACnB,MAAMY,QAAQ,GAAG,MAAMC,KAAK,CACzB,GAAEhB,UAAW,6BADY,EAE1B;UACIiB,MAAM,EAAE,KADZ;UAEIC,OAAO,EAAE;YACP,gBAAgB,kBADT;YAEP,iBAAkB,UAASJ,YAAa;UAFjC;QAFb,CAF0B,CAA5B;QAUA,MAAMK,IAAI,GAAG,MAAMJ,QAAQ,CAACI,IAAT,EAAnB;;QACA,IAAIJ,QAAQ,CAACF,MAAT,KAAoB,GAAxB,EAA6B;UAC3B;UACAO,KAAK,CAAC,0CAAD,CAAL;UACAC,MAAM,CAACC,QAAP,CAAgBC,MAAhB,CAAuB,QAAvB;UACA,OAAO,EAAP;QACD;;QACD,IAAIR,QAAQ,CAACF,MAAT,KAAoB,GAAxB,EAA6B;UAC3B;UACAT,OAAO,CAACoB,IAAI,CAACC,KAAL,CAAWN,IAAX,CAAD,CAAP;QACD,CAHD,MAGO;UACL;UACAO,MAAM,CAACC,OAAP,CAAeH,IAAI,CAACC,KAAL,CAAWN,IAAX,CAAf,EAAiCS,OAAjC,CAAyC,QAAgB;YAAA,IAAf,CAACC,GAAD,EAAMC,KAAN,CAAe;YACvDzB,IAAI,CAAE,GAAEwB,GAAI,KAAIC,KAAM,EAAlB,CAAJ;UACD,CAFD;QAGD;MACF,CA3BD,MA2BK,CAEJ;;MACD,MAAMf,QAAQ,GAAG,MAAMC,KAAK,CACzB,GAAEhB,UAAW,6BADY,EAE1B;QACIiB,MAAM,EAAE,KADZ;QAEIC,OAAO,EAAE;UACP,gBAAgB,kBADT;UAEP,iBAAkB,UAASJ,YAAa;QAFjC;MAFb,CAF0B,CAA5B;MAUA,MAAMK,IAAI,GAAG,MAAMJ,QAAQ,CAACI,IAAT,EAAnB;;MACA,IAAIJ,QAAQ,CAACF,MAAT,KAAoB,GAAxB,EAA6B;QAC3B;QACAO,KAAK,CAAC,0CAAD,CAAL;QACAC,MAAM,CAACC,QAAP,CAAgBC,MAAhB,CAAuB,QAAvB;QACA,OAAO,EAAP;MACD;;MACD,IAAIR,QAAQ,CAACF,MAAT,KAAoB,GAAxB,EAA6B;QAC3B;QACAT,OAAO,CAACoB,IAAI,CAACC,KAAL,CAAWN,IAAX,CAAD,CAAP;MACD,CAHD,MAGO;QACL;QACAO,MAAM,CAACC,OAAP,CAAeH,IAAI,CAACC,KAAL,CAAWN,IAAX,CAAf,EAAiCS,OAAjC,CAAyC,SAAgB;UAAA,IAAf,CAACC,GAAD,EAAMC,KAAN,CAAe;UACvDzB,IAAI,CAAE,GAAEwB,GAAI,KAAIC,KAAM,EAAlB,CAAJ;QACD,CAFD;MAGD;IACF;EACF,CA3DD;;EA6DE/B,YAAY,CAACO,MAAD,EAASC,UAAT,EAAqBK,cAArB,CAAZ;EAEAA,cAAc;AACjB,CAnEM"},"metadata":{},"sourceType":"module"}
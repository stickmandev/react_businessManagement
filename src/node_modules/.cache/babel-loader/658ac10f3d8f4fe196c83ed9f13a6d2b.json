{"ast":null,"code":"import _regeneratorRuntime from\"/home/gcg/Desktop/Programing /python/Django main projects/projects/businessManagement/react_BusinessManagement/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _slicedToArray from\"/home/gcg/Desktop/Programing /python/Django main projects/projects/businessManagement/react_BusinessManagement/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _asyncToGenerator from\"/home/gcg/Desktop/Programing /python/Django main projects/projects/businessManagement/react_BusinessManagement/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import{verifyTokens}from\"../../../auths/verifyTokens\";import{backendURL}from\"../../../../backendURL\";export var get_savedTransctions=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(success,fail,access,set_access){var success_Status;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:success_Status=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(status,access_token){var response,text;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!(status===200)){_context.next=12;break;}_context.next=3;return fetch(\"\".concat(backendURL,\"/ledger/savedtransaction/\"),{method:'GET',headers:{'Content-Type':'Application/JSON','Authorization':\"Bearer \".concat(access_token)}});case 3:response=_context.sent;_context.next=6;return response.text();case 6:text=_context.sent;if(!(response.status===401)){_context.next=11;break;}// console.log(\"accesstoken not valid\");\nalert(\"you are not authorized to view this page\");window.location.assign(\"/login\");return _context.abrupt(\"return\",[]);case 11:if(response.status===200){// console.log(\"success\", JSON.parse(text));\nsuccess(text);}else{// console.log(\"failed\", text);\nObject.entries(JSON.parse(text)).forEach(function(_ref3){var _ref4=_slicedToArray(_ref3,2),key=_ref4[0],value=_ref4[1];fail(\"\".concat(key,\": \").concat(value));});}case 12:case\"end\":return _context.stop();}}},_callee);}));return function success_Status(_x5,_x6){return _ref2.apply(this,arguments);};}();verifyTokens(access,set_access,success_Status);success_Status();case 3:case\"end\":return _context2.stop();}}},_callee2);}));return function get_savedTransctions(_x,_x2,_x3,_x4){return _ref.apply(this,arguments);};}();export var create_savedTransctions=/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee4(description,selectd_Streamm,credit,debit,categorySelected,success,access,set_access){var success_Status;return _regeneratorRuntime().wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:console.log(credit);success_Status=/*#__PURE__*/function(){var _ref6=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(status,access_token){var response,text;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:if(!(status===200)){_context3.next=11;break;}_context3.next=3;return fetch(\"\".concat(backendURL,\"/ledger/savedtransaction/\"),{method:'POST',headers:{'Accept':'application/json','Content-Type':'application/json','Authorization':\"Bearer \".concat(access_token)},body:JSON.stringify({\"description\":description,\"cashStream\":selectd_Streamm,\"Credit\":credit.replace(/[$]|,/g,\"\"),\"Debit\":debit.replace(/[$]|,/g,\"\"),\"category\":categorySelected})});case 3:response=_context3.sent;_context3.next=6;return response.text();case 6:text=_context3.sent;if(!(response.status===401)){_context3.next=10;break;}// console.log(\"accesstoken not valid\");\nalert(\"you are not authorized to delete this data\");return _context3.abrupt(\"return\",[]);case 10:if(response.status===201){// console.log(\"data created\", text);\nsuccess();}else{// console.log(\"failed to delete\", text);\n}case 11:case\"end\":return _context3.stop();}}},_callee3);}));return function success_Status(_x15,_x16){return _ref6.apply(this,arguments);};}();verifyTokens(access,set_access,success_Status);success_Status();case 4:case\"end\":return _context4.stop();}}},_callee4);}));return function create_savedTransctions(_x7,_x8,_x9,_x10,_x11,_x12,_x13,_x14){return _ref5.apply(this,arguments);};}();// export const delete_savedTransctions = async (flowId, success, access, set_access) => {\n//     const success_Status = async(status, access_token) => {\n//       if (status  === 200){\n//         // fetching cashflow data\n//         const response = await fetch(\n//           `${backendURL}/ledger/cashflow/${flowId}/delete/`,\n//           {\n//               method: 'DELETE',\n//               headers: {\n//                   'Content-Type': 'Application/JSON',\n//                   'Authorization': `Bearer ${access_token}`,\n//               }\n//           }\n//       );\n//     const text = await response.text();\n//     if (response.status === 401) {\n//       console.log(\"accesstoken not valid\");\n//       alert(\"you are not authorized to delete this data\")\n//       return [];\n//     }\n//     if (response.status === 204) {\n//       console.log(\"deleted\", text);\n//       success()\n//     } else {\n//       console.log(\"failed to delete\", text);\n//     }\n//       }\n//     }\n//     verifyTokens(access, set_access, success_Status)\n//     success_Status()\n//   };","map":{"version":3,"names":["verifyTokens","backendURL","get_savedTransctions","success","fail","access","set_access","success_Status","status","access_token","fetch","method","headers","response","text","alert","window","location","assign","Object","entries","JSON","parse","forEach","key","value","create_savedTransctions","description","selectd_Streamm","credit","debit","categorySelected","console","log","body","stringify","replace"],"sources":["/home/gcg/Desktop/Programing /python/Django main projects/projects/businessManagement/react_BusinessManagement/src/features/ledger/components/api/savedTransaction_api.js"],"sourcesContent":["import {verifyTokens} from \"../../../auths/verifyTokens\"\nimport {backendURL} from \"../../../../backendURL\"\n\n\nexport const get_savedTransctions = async (success, fail, access, set_access) => {\n  const success_Status = async(status, access_token) => {\n    if (status  === 200){\n      // fetching cashflow data\n      const response = await fetch(\n        `${backendURL}/ledger/savedtransaction/`,\n        {\n            method: 'GET',\n            headers: {\n                'Content-Type': 'Application/JSON',\n                'Authorization': `Bearer ${access_token}`,\n            }\n        }\n      );\n      const text = await response.text();\n      if (response.status === 401) {\n        // console.log(\"accesstoken not valid\");\n        alert(\"you are not authorized to view this page\")\n        window.location.assign(\"/login\");\n        return [];\n      }\n      if (response.status === 200) {\n        // console.log(\"success\", JSON.parse(text));\n        success(text);\n      } else {\n        // console.log(\"failed\", text);\n        Object.entries(JSON.parse(text)).forEach(([key, value])=>{\n        fail(`${key}: ${value}`);\n      });\n      }\n    }\n  }\n\n  verifyTokens(access, set_access, success_Status)\n  \n  success_Status()\n};\n\nexport const create_savedTransctions = async (description, selectd_Streamm, credit, debit, categorySelected, success, access, set_access) => {\n  console.log(credit)\n  const success_Status = async(status, access_token) => {\n    if (status  === 200){\n      // creating cashflow data\n      const response = await fetch(\n        `${backendURL}/ledger/savedtransaction/`,\n        {\n          method: 'POST',\n          headers: {\n            'Accept': 'application/json',\n            'Content-Type': 'application/json',\n            'Authorization': `Bearer ${access_token}`,\n          },\n          body: JSON.stringify({\n            \"description\": description,\n            \"cashStream\": selectd_Streamm,\n            \"Credit\": credit.replace(/[$]|,/g,\"\"),\n            \"Debit\": debit.replace(/[$]|,/g,\"\"),\n            \"category\": categorySelected,\n          }),\n        }\n      );\n\n      const text = await response.text();\n      if (response.status === 401) {\n        // console.log(\"accesstoken not valid\");\n        alert(\"you are not authorized to delete this data\")\n        return [];\n      }\n      if (response.status === 201) {\n        // console.log(\"data created\", text);\n        success()\n      } else {\n        // console.log(\"failed to delete\", text);\n      }\n    }\n  }\n\n  verifyTokens(access, set_access, success_Status)\n  \n  success_Status()\n};\n\n\n// export const delete_savedTransctions = async (flowId, success, access, set_access) => {\n  \n//     const success_Status = async(status, access_token) => {\n//       if (status  === 200){\n//         // fetching cashflow data\n//         const response = await fetch(\n//           `${backendURL}/ledger/cashflow/${flowId}/delete/`,\n//           {\n//               method: 'DELETE',\n//               headers: {\n//                   'Content-Type': 'Application/JSON',\n//                   'Authorization': `Bearer ${access_token}`,\n//               }\n//           }\n//       );\n//     const text = await response.text();\n//     if (response.status === 401) {\n//       console.log(\"accesstoken not valid\");\n//       alert(\"you are not authorized to delete this data\")\n//       return [];\n//     }\n//     if (response.status === 204) {\n//       console.log(\"deleted\", text);\n//       success()\n//     } else {\n//       console.log(\"failed to delete\", text);\n//     }\n//       }\n//     }\n  \n//     verifyTokens(access, set_access, success_Status)\n    \n//     success_Status()\n//   };"],"mappings":"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"},"metadata":{},"sourceType":"module"}
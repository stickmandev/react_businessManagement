{"ast":null,"code":"import _slicedToArray from\"/home/gcg/Desktop/Programing /python/Django main projects/projects/businessManagement/react_BusinessManagement/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useState,useRef}from'react';export var useEffectOnce=function useEffectOnce(effect){var destroyFunc=useRef();var effectCalled=useRef(false);var renderAfterCalled=useRef(false);var _useState=useState(0),_useState2=_slicedToArray(_useState,2),val=_useState2[0],setVal=_useState2[1];if(effectCalled.current){renderAfterCalled.current=true;}useEffect(function(){// only execute the effect first time around\nif(!effectCalled.current){destroyFunc.current=effect();effectCalled.current=true;}// this forces one render after the effect is run\nsetVal(function(val){return val+1;});return function(){// if the comp didn't render since the useEffect was called,\n// we know it's the dummy React cycle\nif(!renderAfterCalled.current){return;}if(destroyFunc.current){destroyFunc.current();}};},[]);};","map":{"version":3,"names":["useEffect","useState","useRef","useEffectOnce","effect","destroyFunc","effectCalled","renderAfterCalled","val","setVal","current"],"sources":["/home/gcg/Desktop/Programing /python/Django main projects/projects/businessManagement/react_BusinessManagement/src/custom_Hooks/useEffectOnce.js"],"sourcesContent":["import {useEffect, useState, useRef} from 'react'\n\n\nexport const useEffectOnce = ( effect )=> {\n\n    const destroyFunc = useRef();\n    const effectCalled = useRef(false);\n    const renderAfterCalled = useRef(false);\n    const [val, setVal] = useState(0);\n  \n    if (effectCalled.current) {\n        renderAfterCalled.current = true;\n    }\n  \n    useEffect( ()=> {\n  \n        // only execute the effect first time around\n        if (!effectCalled.current) { \n          destroyFunc.current = effect();\n          effectCalled.current = true;\n        }\n  \n        // this forces one render after the effect is run\n        setVal(val => val + 1);\n  \n        return ()=> {\n          // if the comp didn't render since the useEffect was called,\n          // we know it's the dummy React cycle\n          if (!renderAfterCalled.current) { return; }\n          if (destroyFunc.current) { destroyFunc.current(); }\n        };\n    }, []);\n  };\n"],"mappings":"oMAAA,OAAQA,SAAR,CAAmBC,QAAnB,CAA6BC,MAA7B,KAA0C,OAA1C,CAGA,MAAO,IAAMC,cAAa,CAAG,QAAhBA,cAAgB,CAAEC,MAAF,CAAa,CAEtC,GAAMC,YAAW,CAAGH,MAAM,EAA1B,CACA,GAAMI,aAAY,CAAGJ,MAAM,CAAC,KAAD,CAA3B,CACA,GAAMK,kBAAiB,CAAGL,MAAM,CAAC,KAAD,CAAhC,CACA,cAAsBD,QAAQ,CAAC,CAAD,CAA9B,wCAAOO,GAAP,eAAYC,MAAZ,eAEA,GAAIH,YAAY,CAACI,OAAjB,CAA0B,CACtBH,iBAAiB,CAACG,OAAlB,CAA4B,IAA5B,CACH,CAEDV,SAAS,CAAE,UAAK,CAEZ;AACA,GAAI,CAACM,YAAY,CAACI,OAAlB,CAA2B,CACzBL,WAAW,CAACK,OAAZ,CAAsBN,MAAM,EAA5B,CACAE,YAAY,CAACI,OAAb,CAAuB,IAAvB,CACD,CAED;AACAD,MAAM,CAAC,SAAAD,GAAG,QAAIA,IAAG,CAAG,CAAV,EAAJ,CAAN,CAEA,MAAO,WAAK,CACV;AACA;AACA,GAAI,CAACD,iBAAiB,CAACG,OAAvB,CAAgC,CAAE,OAAS,CAC3C,GAAIL,WAAW,CAACK,OAAhB,CAAyB,CAAEL,WAAW,CAACK,OAAZ,GAAwB,CACpD,CALD,CAMH,CAjBQ,CAiBN,EAjBM,CAAT,CAkBD,CA7BI"},"metadata":{},"sourceType":"module"}
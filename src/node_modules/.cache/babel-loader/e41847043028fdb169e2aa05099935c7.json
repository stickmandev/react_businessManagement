{"ast":null,"code":"var _jsxFileName = \"/home/gcg/Desktop/Programing /python/Django main projects/projects/businessManagement/react_BusinessManagement/src/features/ledger/components/Streams.js\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect, useMemo } from 'react';\nimport { get_cashStream } from './api/cashStream_CRUD';\nimport useAccess from \"../../auths/accessToken\";\nimport useGlobalState from \"../../../Store_&_State/GlobalState\";\nimport { useEffectOnce } from \"../../../custom_Hooks/useEffectOnce\";\nimport Ledger from '../Ledger';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction Streams() {\n  _s();\n\n  const {\n    streamList,\n    setStreamList\n  } = useGlobalState([]);\n  const {\n    stream,\n    setStream\n  } = useGlobalState([]);\n  const [StreamPages, setStreamPages] = useState([]);\n  const [Streampage, setStreamPage] = useState(0);\n  const {\n    access,\n    setAccess\n  } = useAccess('');\n  const streamWidth = 14.4;\n  const periodWidth = 28;\n  const flowWidth = streamWidth / 2;\n  const snWidth = periodWidth * 0.1;\n  const dateWidth = periodWidth * 0.2;\n  const descriptionWidth = periodWidth * 0.7;\n  Ledger(stream.length);\n  const table_width = stream.length * streamWidth + periodWidth; // CashStream data management----------------------------------------------------------------------------------------------------\n\n  const stream_Success = async data => {\n    // alert(\"d\")\n    await setStreamList(data.results);\n    const newPages = [];\n\n    if (data.count > 10) {\n      for (let i = 0; i < Math.ceil(data.count / 10); i++) {\n        newPages.push({\n          name: (i + 1).toString(),\n          page: i\n        });\n        console.log(\"page\", i);\n      }\n\n      if (Streampage > newPages.length - 1) {\n        await setStreamPage(Streampage - 1);\n      }\n    } else {\n      await setStreamPage(0);\n    }\n\n    await setStreamPages(newPages);\n  };\n\n  const set_Access = Access_token => {\n    setAccess(Access_token);\n  }; // console.log(access)\n\n\n  useEffectOnce(() => {\n    set_Access();\n  }, []);\n\n  const getStreamData = async () => {\n    await get_cashStream(Streampage, stream_Success, text => {\n      console.log(\"Error: \", text);\n    }, access, set_Access);\n  };\n\n  useEffectOnce(() => {\n    // useEffect(()=>{\n    getStreamData();\n  }, [access]);\n  useEffect(() => {\n    setStream(streamList.map(function (item) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"th stream\",\n          children: item.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"streamHeader\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"th\",\n            rowdiv: \"2\",\n            style: {\n              width: `${flowWidth}vw`\n            },\n            children: \"Credit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"th\",\n            rowdiv: \"2\",\n            style: {\n              width: `${flowWidth}vw`\n            },\n            children: \"Debit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 11\n      }, this);\n    }));\n  }, [streamList]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"th\",\n      id: \"period\",\n      children: \"12/04/22 - 12/04/22\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"th\",\n      id: \"snHeader\",\n      style: {\n        width: `${snWidth}vw`,\n        position: 'sticky',\n        left: `${0}`\n      },\n      children: \"S/N\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 15\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"th\",\n      id: \"dateHeader\",\n      style: {\n        width: `${dateWidth}vw`,\n        position: 'sticky',\n        left: `${snWidth}vh`\n      },\n      children: \"Date\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 15\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"th\",\n      id: \"descriptionHeader\",\n      style: {\n        width: `${descriptionWidth}vw`,\n        position: 'sticky',\n        left: `${snWidth + dateWidth}`\n      },\n      children: \"Description\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 15\n    }, this), stream]\n  }, void 0, true);\n}\n\n_s(Streams, \"zvt8cRKEypwqZdEwxBwBR6fI+BQ=\", false, function () {\n  return [useGlobalState, useGlobalState, useAccess, useEffectOnce, useEffectOnce];\n});\n\n_c = Streams;\nexport default Streams;\n\nvar _c;\n\n$RefreshReg$(_c, \"Streams\");","map":{"version":3,"names":["useState","useEffect","useMemo","get_cashStream","useAccess","useGlobalState","useEffectOnce","Ledger","Streams","streamList","setStreamList","stream","setStream","StreamPages","setStreamPages","Streampage","setStreamPage","access","setAccess","streamWidth","periodWidth","flowWidth","snWidth","dateWidth","descriptionWidth","length","table_width","stream_Success","data","results","newPages","count","i","Math","ceil","push","name","toString","page","console","log","set_Access","Access_token","getStreamData","text","map","item","width","position","left"],"sources":["/home/gcg/Desktop/Programing /python/Django main projects/projects/businessManagement/react_BusinessManagement/src/features/ledger/components/Streams.js"],"sourcesContent":["import { useState, useEffect, useMemo } from 'react';\nimport {get_cashStream} from './api/cashStream_CRUD'\nimport useAccess from \"../../auths/accessToken\"\nimport useGlobalState from \"../../../Store_&_State/GlobalState\"\nimport {useEffectOnce} from \"../../../custom_Hooks/useEffectOnce\"\nimport Ledger from '../Ledger'\n\nfunction Streams() {\n  const {streamList, setStreamList} = useGlobalState([]);\n  const {stream, setStream} = useGlobalState([]);\n  const [StreamPages, setStreamPages] = useState([]);\n  const [Streampage, setStreamPage] = useState(0);\n  const {access, setAccess} = useAccess('')\n\n  const streamWidth = 14.4\n  const periodWidth = 28\n  const flowWidth = streamWidth/2\n  const snWidth = periodWidth*(0.1)\n  const dateWidth = periodWidth*(0.2)\n  const descriptionWidth = periodWidth*(0.7)\n\n  Ledger(stream.length)\n  const table_width = (stream.length*streamWidth) + periodWidth\n    // CashStream data management----------------------------------------------------------------------------------------------------\n  const stream_Success = async(data) => {\n    // alert(\"d\")\n    await setStreamList(data.results);\n    const newPages = [];\n    if (data.count > 10) {\n      for (let i=0; i<Math.ceil(data.count / 10); i++) {\n        newPages.push({\n          name: (i+1).toString(),\n          page: i,\n        });\n        console.log(\"page\",i);\n      }\n      if (Streampage > newPages.length-1) {\n        await setStreamPage(Streampage-1);\n      }\n    } else {\n      await setStreamPage(0);\n    }\n    await setStreamPages(newPages);\n  };\n  \n  const set_Access = (Access_token) => {\n    setAccess(Access_token)\n  }\n\n  // console.log(access)\n\n  useEffectOnce(\n    () => {\n      set_Access()\n    },[]\n  )\n\n  const getStreamData = async()=>{\n    await get_cashStream(Streampage, stream_Success, (text)=>{console.log(\"Error: \", text)}, access, set_Access );\n  };\n\n  useEffectOnce(()=>{\n  // useEffect(()=>{\n    getStreamData();\n  }, [access]);\n\n  useEffect(() => {\n    setStream(\n      streamList.map(function(item){\n        return(\n          <div>\n            <div className=\"th stream\" >{item.name}</div>\n            \n            <div className='streamHeader'>\n              <div className=\"th\" rowdiv=\"2\" style={{width:`${flowWidth}vw`}}>Credit</div>\n              <div className=\"th\" rowdiv=\"2\" style={{width:`${flowWidth}vw`}}>Debit</div>\n            </div>\n          </div>\n        )\n      })\n    );\n\n  }, [streamList]);\n\n\n\n    return (\n      < >\n      {/* <div id=\"thead\"  > */}\n        {/* <div className=\"tr\" id=\"trFirstRow\"> */}\n            <div className=\"th\" id=\"period\" >12/04/22 - 12/04/22</div>\n            {/* <div className=\"tr\" id=\"trSecondRow\" > */}\n              <div  className=\"th\" id=\"snHeader\" style={{width:`${snWidth}vw`, position: 'sticky', left: `${0}`}}>S/N</div>\n              <div  className=\"th\" id=\"dateHeader\" style={{width:`${dateWidth}vw`, position: 'sticky', left: `${snWidth}vh`}}>Date</div>\n              <div   className=\"th\" id=\"descriptionHeader\" style={{width:`${descriptionWidth}vw`, position: 'sticky', left: `${snWidth+dateWidth}`}}>Description</div>\n            {/* </div> */}\n\n          {stream}             \n        {/* </div> */}\n      {/* </div> */}\n      </>\n        \n    )\n}\n\nexport default Streams"],"mappings":"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"},"metadata":{},"sourceType":"module"}
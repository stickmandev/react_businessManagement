{"ast":null,"code":"var _jsxFileName = \"/home/gcg/Desktop/Programing /python/Django main projects/projects/businessManagement/react_BusinessManagement/src/features/ledger/components/Streams.js\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect, useMemo } from 'react';\nimport { get_cashStream } from './api/cashflow_CRUD';\nimport useAccess from \"../../auths/accessToken\";\nimport { useEffectOnce } from \"../../../custom_Hooks/useEffectOnce\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction Streams() {\n  _s();\n\n  const [steamList, setStreamList] = useState([]);\n  const [stream, setStream] = useState([]);\n  const [streamHeader, setStreamHeader] = useState([]);\n  const [StreamPages, setStreamPages] = useState([]);\n  const [Streampage, setStreamPage] = useState(0);\n  const streamWidth = 27.5;\n  const periodWidth = 46;\n  const flowWidth = streamWidth / 2;\n  const {\n    access,\n    setAccess\n  } = useAccess(''); // CashStream data management----------------------------------------------------------------------------------------------------\n\n  const stream_Success = async data => {\n    // alert(\"d\")\n    await setStreamList(data.results);\n    const newPages = [];\n\n    if (data.count > 10) {\n      for (let i = 0; i < Math.ceil(data.count / 10); i++) {\n        newPages.push({\n          name: (i + 1).toString(),\n          page: i\n        });\n        console.log(\"page\", i);\n      }\n\n      if (Streampage > newPages.length - 1) {\n        await setStreamPage(Streampage - 1);\n      }\n    } else {\n      await setStreamPage(0);\n    }\n\n    await setStreamPages(newPages);\n  };\n\n  const set_Access = Access_token => {\n    setAccess(Access_token);\n  }; // console.log(access)\n\n\n  useEffect(() => {\n    set_Access();\n  }, []);\n\n  const getStreamData = async () => {\n    await get_cashStream(Streampage, stream_Success, text => {\n      console.log(\"Error: \", text);\n    }, access, set_Access);\n  };\n\n  useEffectOnce(() => {\n    getStreamData();\n  }, [access]);\n  useEffect(() => {\n    setStream(steamList.map(function (item) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"th stream\",\n        coldiv: \"2\",\n        style: {\n          width: `${streamWidth}%`\n        },\n        children: item.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 11\n      }, this);\n    }));\n    setStreamHeader(steamList.map(function (item) {\n      return /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"th\",\n          rowdiv: \"2\",\n          style: {\n            width: `${flowWidth}%`\n          },\n          children: \"Credit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"th\",\n          rowdiv: \"2\",\n          style: {\n            width: `${flowWidth}%`\n          },\n          children: \"Debit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true);\n    }));\n  }, [steamList]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    id: \"thead\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"tr\",\n      id: \"trFirstRow\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"th\",\n        coldiv: \"3\",\n        id: \"period\",\n        style: {\n          width: `${periodWidth}%`\n        },\n        children: \"12/04/22 - 12/04/22\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }, this), stream]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"tr\",\n      id: \"trSecondRow\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"th\",\n        id: \"snHeader\",\n        style: {\n          width: `${snWidth}%`,\n          position: `sticky`,\n          left: `${0}`\n        },\n        children: \"S/N\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"th\",\n        id: \"dateHeader\",\n        style: {\n          width: `${dateWidth}%`,\n          position: `sticky`,\n          left: `${snWidth + 0.7}%`\n        },\n        children: \"Date\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"th\",\n        id: \"descriptionHeader\",\n        style: {\n          width: `${descriptionWidth}%`,\n          position: `sticky`,\n          left: `${snWidth + dateWidth + 1.2}%`\n        },\n        children: \"Description\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 13\n      }, this), streamHeader]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 84,\n    columnNumber: 7\n  }, this);\n}\n\n_s(Streams, \"Tx+2n88UwYBSkJO3ups8q3bCSAY=\", false, function () {\n  return [useAccess, useEffectOnce];\n});\n\n_c = Streams;\nexport default Streams;\n\nvar _c;\n\n$RefreshReg$(_c, \"Streams\");","map":{"version":3,"names":["useState","useEffect","useMemo","get_cashStream","useAccess","useEffectOnce","Streams","steamList","setStreamList","stream","setStream","streamHeader","setStreamHeader","StreamPages","setStreamPages","Streampage","setStreamPage","streamWidth","periodWidth","flowWidth","access","setAccess","stream_Success","data","results","newPages","count","i","Math","ceil","push","name","toString","page","console","log","length","set_Access","Access_token","getStreamData","text","map","item","width","snWidth","position","left","dateWidth","descriptionWidth"],"sources":["/home/gcg/Desktop/Programing /python/Django main projects/projects/businessManagement/react_BusinessManagement/src/features/ledger/components/Streams.js"],"sourcesContent":["import { useState, useEffect, useMemo } from 'react';\nimport {get_cashStream} from './api/cashflow_CRUD'\nimport useAccess from \"../../auths/accessToken\"\nimport {useEffectOnce} from \"../../../custom_Hooks/useEffectOnce\"\n\nfunction Streams() {\n    const [steamList, setStreamList] = useState([]);\n    const [stream, setStream] = useState([]);\n    const [streamHeader, setStreamHeader] = useState([]);\n    const [StreamPages, setStreamPages] = useState([]);\n    const [Streampage, setStreamPage] = useState(0);\n    const streamWidth = 27.5\n    const periodWidth = 46\n    const flowWidth = streamWidth/2\n    const {access, setAccess} = useAccess('')\n\n\n      // CashStream data management----------------------------------------------------------------------------------------------------\n  const stream_Success = async(data) => {\n    // alert(\"d\")\n    await setStreamList(data.results);\n    const newPages = [];\n    if (data.count > 10) {\n      for (let i=0; i<Math.ceil(data.count / 10); i++) {\n        newPages.push({\n          name: (i+1).toString(),\n          page: i,\n        });\n        console.log(\"page\",i);\n      }\n      if (Streampage > newPages.length-1) {\n        await setStreamPage(Streampage-1);\n      }\n    } else {\n      await setStreamPage(0);\n    }\n    await setStreamPages(newPages);\n  };\n  \n  const set_Access = (Access_token) => {\n    setAccess(Access_token)\n  }\n\n  // console.log(access)\n\n  useEffect(\n    () => {\n      set_Access()\n    },[]\n  )\n\n  const getStreamData = async()=>{\n    await get_cashStream(Streampage, stream_Success, (text)=>{console.log(\"Error: \", text)}, access, set_Access );\n  };\n  useEffectOnce(()=>{\n    getStreamData();\n  }, [access]);\n\n  useEffect(() => {\n    setStream(\n      steamList.map(function(item){\n        return(\n          <div className=\"th stream\" coldiv=\"2\" style={{width:`${streamWidth}%`}}>{item.name}</div>\n        )\n      })\n    );\n\n    setStreamHeader(\n      steamList.map(function(item){\n        \n        return(\n          <>\n            <div className=\"th\" rowdiv=\"2\" style={{width:`${flowWidth}%`}}>Credit</div>\n            <div className=\"th\" rowdiv=\"2\" style={{width:`${flowWidth}%`}}>Debit</div>\n          </>\n        )\n      })\n    )\n  }, [steamList]);\n\n\n\n    return (\n      <div id=\"thead\" >\n        <div className=\"tr\" id=\"trFirstRow\">\n        <div className=\"th\" coldiv=\"3\" id=\"period\" style={{width:`${periodWidth}%`}}>12/04/22 - 12/04/22</div>\n        {stream}             \n       </div>\n        <div className=\"tr\" id=\"trSecondRow\">\n            <div  className=\"th\" id=\"snHeader\" style={{width:`${snWidth}%`, position: `sticky`, left: `${0}`}}>S/N</div>\n            <div  className=\"th\" id=\"dateHeader\" style={{width:`${dateWidth}%`, position: `sticky`, left: `${snWidth+0.7}%`}}>Date</div>\n            <div   className=\"th\" id=\"descriptionHeader\" style={{width:`${descriptionWidth}%`, position: `sticky`, left: `${snWidth+dateWidth+1.2}%`}}>Description</div>\n            {streamHeader}\n        </div>\n      </div>\n        \n    )\n}\n\nexport default Streams"],"mappings":"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"},"metadata":{},"sourceType":"module"}
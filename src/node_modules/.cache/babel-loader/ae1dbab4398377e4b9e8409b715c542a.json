{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { verifyTokens } from \"../../../..auths/verifyTokens\";\nimport useAccess from \"../../../auths/\";\n\nconst Get_cashStream = async function () {\n  _s();\n\n  let pageNo = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"\";\n  let success = arguments.length > 1 ? arguments[1] : undefined;\n  let fail = arguments.length > 2 ? arguments[2] : undefined;\n  const {\n    access,\n    setAccess\n  } = useAccess(''); // console.log(access)\n\n  verifyTokens(access, text => {\n    setAccess(text);\n  }); // const access = setAccessJSON.parse(access_text).access\n\n  console.log(setAccess); // fetching cashstream data\n\n  const response = await fetch(`/ledger/cashstream/`, {\n    method: 'GET',\n    headers: {\n      'Content-Type': 'Application/JSON',\n      'Authorization': `Bearer ${access}`\n    }\n  });\n  const text = await response.text();\n\n  if (response.status === 401) {\n    console.log(\"accesstoken not valid\");\n    alert(\"you are not authorized to view this page\");\n    window.location.assign(\"/index/login/\");\n    return [];\n  }\n\n  if (response.status === 200) {\n    console.log(\"success\", JSON.parse(text));\n    success(JSON.parse(text));\n  } else {\n    console.log(\"failed\", text);\n    Object.entries(JSON.parse(text)).forEach(_ref => {\n      let [key, value] = _ref;\n      fail(`${key}: ${value}`);\n    });\n  }\n};\n\n_s(Get_cashStream, \"m5BZZFaE96oLqqnIYn6H8qCab84=\", false, function () {\n  return [useAccess];\n});\n\n_c = Get_cashStream;\nexport default Get_cashStream;\n\nvar _c;\n\n$RefreshReg$(_c, \"Get_cashStream\");","map":{"version":3,"names":["verifyTokens","useAccess","Get_cashStream","pageNo","success","fail","access","setAccess","text","console","log","response","fetch","method","headers","status","alert","window","location","assign","JSON","parse","Object","entries","forEach","key","value"],"sources":["/home/gcg/Desktop/Programing /python/Django main projects/projects/businessManagement/react_BusinessManagement/src/features/ledger/components/api/cashflow_CRUD.js"],"sourcesContent":["import {verifyTokens} from \"../../../..auths/verifyTokens\"\nimport useAccess from \"../../../auths/\"\n\n\nconst Get_cashStream = async (pageNo=\"\", success, fail) => {\n    const {access, setAccess} = useAccess('')\n    // console.log(access)\n    verifyTokens(access, (text)=>{setAccess(text)})\n    // const access = setAccessJSON.parse(access_text).access\n    console.log(setAccess)\n    // fetching cashstream data\n    const response = await fetch(\n          `/ledger/cashstream/`,\n          {\n              method: 'GET',\n              headers: {\n                  'Content-Type': 'Application/JSON',\n                  'Authorization': `Bearer ${access}`,\n              }\n          }\n      );\n\n    const text = await response.text();\n    if (response.status === 401) {\n      console.log(\"accesstoken not valid\");\n      alert(\"you are not authorized to view this page\")\n      window.location.assign(\"/index/login/\");\n      return [];\n    }\n    if (response.status === 200) {\n      console.log(\"success\", JSON.parse(text));\n      success(JSON.parse(text));\n    } else {\n      console.log(\"failed\", text);\n      Object.entries(JSON.parse(text)).forEach(([key, value])=>{\n        fail(`${key}: ${value}`);\n      });\n    }\n  };\n\n  export default Get_cashStream"],"mappings":";;AAAA,SAAQA,YAAR,QAA2B,+BAA3B;AACA,OAAOC,SAAP,MAAsB,iBAAtB;;AAGA,MAAMC,cAAc,GAAG,kBAAoC;EAAA;;EAAA,IAA7BC,MAA6B,uEAAtB,EAAsB;EAAA,IAAlBC,OAAkB;EAAA,IAATC,IAAS;EACvD,MAAM;IAACC,MAAD;IAASC;EAAT,IAAsBN,SAAS,CAAC,EAAD,CAArC,CADuD,CAEvD;;EACAD,YAAY,CAACM,MAAD,EAAUE,IAAD,IAAQ;IAACD,SAAS,CAACC,IAAD,CAAT;EAAgB,CAAlC,CAAZ,CAHuD,CAIvD;;EACAC,OAAO,CAACC,GAAR,CAAYH,SAAZ,EALuD,CAMvD;;EACA,MAAMI,QAAQ,GAAG,MAAMC,KAAK,CACrB,qBADqB,EAEtB;IACIC,MAAM,EAAE,KADZ;IAEIC,OAAO,EAAE;MACL,gBAAgB,kBADX;MAEL,iBAAkB,UAASR,MAAO;IAF7B;EAFb,CAFsB,CAA5B;EAWA,MAAME,IAAI,GAAG,MAAMG,QAAQ,CAACH,IAAT,EAAnB;;EACA,IAAIG,QAAQ,CAACI,MAAT,KAAoB,GAAxB,EAA6B;IAC3BN,OAAO,CAACC,GAAR,CAAY,uBAAZ;IACAM,KAAK,CAAC,0CAAD,CAAL;IACAC,MAAM,CAACC,QAAP,CAAgBC,MAAhB,CAAuB,eAAvB;IACA,OAAO,EAAP;EACD;;EACD,IAAIR,QAAQ,CAACI,MAAT,KAAoB,GAAxB,EAA6B;IAC3BN,OAAO,CAACC,GAAR,CAAY,SAAZ,EAAuBU,IAAI,CAACC,KAAL,CAAWb,IAAX,CAAvB;IACAJ,OAAO,CAACgB,IAAI,CAACC,KAAL,CAAWb,IAAX,CAAD,CAAP;EACD,CAHD,MAGO;IACLC,OAAO,CAACC,GAAR,CAAY,QAAZ,EAAsBF,IAAtB;IACAc,MAAM,CAACC,OAAP,CAAeH,IAAI,CAACC,KAAL,CAAWb,IAAX,CAAf,EAAiCgB,OAAjC,CAAyC,QAAgB;MAAA,IAAf,CAACC,GAAD,EAAMC,KAAN,CAAe;MACvDrB,IAAI,CAAE,GAAEoB,GAAI,KAAIC,KAAM,EAAlB,CAAJ;IACD,CAFD;EAGD;AACF,CAlCH;;GAAMxB,c;UAC0BD,S;;;KAD1BC,c;AAoCJ,eAAeA,cAAf"},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import _regeneratorRuntime from\"/home/gcg/Desktop/Programing /python/Django main projects/projects/businessManagement/react_BusinessManagement/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _slicedToArray from\"/home/gcg/Desktop/Programing /python/Django main projects/projects/businessManagement/react_BusinessManagement/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _asyncToGenerator from\"/home/gcg/Desktop/Programing /python/Django main projects/projects/businessManagement/react_BusinessManagement/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import{verifyTokens}from\"../../../auths/verifyTokens\";import{backendURL}from\"../../../../backendURL\";export var get_categories=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(success,fail,access,set_access){var success_Status;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:success_Status=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(status,access_token){var response,text;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!(status===200)){_context.next=12;break;}_context.next=3;return fetch(\"\".concat(backendURL,\"/backend_Ledger/category/\"),{method:'GET',headers:{'Content-Type':'Application/JSON','Authorization':\"Bearer \".concat(access_token)}});case 3:response=_context.sent;_context.next=6;return response.text();case 6:text=_context.sent;if(!(response.status===401)){_context.next=11;break;}// console.log(\"accesstoken not valid\");\nalert(\"you are not authorized to view this page\");window.location.assign(\"/login\");return _context.abrupt(\"return\",[]);case 11:if(response.status===200){// console.log(\"success\", JSON.parse(text));\nsuccess(JSON.parse(text));}else{// console.log(\"failed\", text);\nObject.entries(JSON.parse(text)).forEach(function(_ref3){var _ref4=_slicedToArray(_ref3,2),key=_ref4[0],value=_ref4[1];fail(\"\".concat(key,\": \").concat(value));});}case 12:case\"end\":return _context.stop();}}},_callee);}));return function success_Status(_x5,_x6){return _ref2.apply(this,arguments);};}();verifyTokens(access,set_access,success_Status);success_Status();case 3:case\"end\":return _context2.stop();}}},_callee2);}));return function get_categories(_x,_x2,_x3,_x4){return _ref.apply(this,arguments);};}();export var create_categories=/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee4(newCategory,success,access,set_access){var success_Status;return _regeneratorRuntime().wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:success_Status=/*#__PURE__*/function(){var _ref6=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(status,access_token){var response,text;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:if(!(status===200)){_context3.next=11;break;}_context3.next=3;return fetch(\"\".concat(backendURL,\"/backend_Ledger/category/\"),{method:'POST',headers:{'Accept':'application/json','Content-Type':'application/json','Authorization':\"Bearer \".concat(access_token)},body:JSON.stringify({\"name\":newCategory})});case 3:response=_context3.sent;_context3.next=6;return response.text();case 6:text=_context3.sent;if(!(response.status===401)){_context3.next=10;break;}// console.log(\"accesstoken not valid\");\nalert(\"you are not authorized to delete this data\");return _context3.abrupt(\"return\",[]);case 10:if(response.status===201){// console.log(\"data created\", text);\nsuccess();}else{// console.log(\"failed to delete\", text);\n}case 11:case\"end\":return _context3.stop();}}},_callee3);}));return function success_Status(_x11,_x12){return _ref6.apply(this,arguments);};}();verifyTokens(access,set_access,success_Status);success_Status();case 3:case\"end\":return _context4.stop();}}},_callee4);}));return function create_categories(_x7,_x8,_x9,_x10){return _ref5.apply(this,arguments);};}();// export const delete_categories = async (flowId, success, access, set_access) => {\n//   const success_Status = async(status, access_token) => {\n//     if (status  === 200){\n//       // fetching cashflow data\n//       const response = await fetch(\n//         `${backendURL}/backend_Ledger/cashflow/${flowId}/delete/`,\n//         {\n//             method: 'DELETE',\n//             headers: {\n//                 'Content-Type': 'Application/JSON',\n//                 'Authorization': `Bearer ${access_token}`,\n//             }\n//         }\n//     );\n//   const text = await response.text();\n//   if (response.status === 401) {\n//     console.log(\"accesstoken not valid\");\n//     alert(\"you are not authorized to delete this data\")\n//     return [];\n//   }\n//   if (response.status === 204) {\n//     console.log(\"deleted\", text);\n//     success()\n//   } else {\n//     console.log(\"failed to delete\", text);\n//   }\n//     }\n//   }\n//   verifyTokens(access, set_access, success_Status)\n//   success_Status()\n// };","map":{"version":3,"names":["verifyTokens","backendURL","get_categories","success","fail","access","set_access","success_Status","status","access_token","fetch","method","headers","response","text","alert","window","location","assign","JSON","parse","Object","entries","forEach","key","value","create_categories","newCategory","body","stringify"],"sources":["/home/gcg/Desktop/Programing /python/Django main projects/projects/businessManagement/react_BusinessManagement/src/features/ledger/components/api/categories_api.js"],"sourcesContent":["import {verifyTokens} from \"../../../auths/verifyTokens\"\nimport {backendURL} from \"../../../../backendURL\"\n\n\nexport const get_categories = async ( success, fail, access, set_access) => {\n  \n  const success_Status = async(status, access_token) => {\n    if (status  === 200){\n      // fetching cashflow data\n      const response = await fetch(\n        `${backendURL}/backend_Ledger/category/`,\n        {\n            method: 'GET',\n            headers: {\n                'Content-Type': 'Application/JSON',\n                'Authorization': `Bearer ${access_token}`,\n            }\n        }\n      );\n      const text = await response.text();\n      if (response.status === 401) {\n        // console.log(\"accesstoken not valid\");\n        alert(\"you are not authorized to view this page\")\n        window.location.assign(\"/login\");\n        return [];\n      }\n      if (response.status === 200) {\n        // console.log(\"success\", JSON.parse(text));\n        success(JSON.parse(text));\n      } else {\n        // console.log(\"failed\", text);\n        Object.entries(JSON.parse(text)).forEach(([key, value])=>{\n        fail(`${key}: ${value}`);\n      });\n      }\n    }\n  }\n\n  verifyTokens(access, set_access, success_Status)\n  \n  success_Status()\n};\n\nexport const create_categories = async (newCategory, success, access, set_access) => {\n  \n  const success_Status = async(status, access_token) => {\n    if (status  === 200){\n      // creating cashflow data\n      const response = await fetch(\n        `${backendURL}/backend_Ledger/category/`,\n        {\n          method: 'POST',\n          headers: {\n            'Accept': 'application/json',\n            'Content-Type': 'application/json',\n            'Authorization': `Bearer ${access_token}`,\n          },\n          body: JSON.stringify({\n            \"name\": newCategory,\n          }),\n        }\n      );\n\n      const text = await response.text();\n      if (response.status === 401) {\n        // console.log(\"accesstoken not valid\");\n        alert(\"you are not authorized to delete this data\")\n        return [];\n      }\n      if (response.status === 201) {\n        // console.log(\"data created\", text);\n        success()\n      } else {\n        // console.log(\"failed to delete\", text);\n      }\n    }\n  }\n\n  verifyTokens(access, set_access, success_Status)\n  \n  success_Status()\n};\n\n// export const delete_categories = async (flowId, success, access, set_access) => {\n  \n//   const success_Status = async(status, access_token) => {\n//     if (status  === 200){\n//       // fetching cashflow data\n//       const response = await fetch(\n//         `${backendURL}/backend_Ledger/cashflow/${flowId}/delete/`,\n//         {\n//             method: 'DELETE',\n//             headers: {\n//                 'Content-Type': 'Application/JSON',\n//                 'Authorization': `Bearer ${access_token}`,\n//             }\n//         }\n//     );\n//   const text = await response.text();\n//   if (response.status === 401) {\n//     console.log(\"accesstoken not valid\");\n//     alert(\"you are not authorized to delete this data\")\n//     return [];\n//   }\n//   if (response.status === 204) {\n//     console.log(\"deleted\", text);\n//     success()\n//   } else {\n//     console.log(\"failed to delete\", text);\n//   }\n//     }\n//   }\n\n//   verifyTokens(access, set_access, success_Status)\n  \n//   success_Status()\n// };\n\n"],"mappings":"4lBAAA,OAAQA,YAAR,KAA2B,6BAA3B,CACA,OAAQC,UAAR,KAAyB,wBAAzB,CAGA,MAAO,IAAMC,eAAc,4FAAG,kBAAQC,OAAR,CAAiBC,IAAjB,CAAuBC,MAAvB,CAA+BC,UAA/B,2IAEtBC,cAFsB,6FAEL,iBAAMC,MAAN,CAAcC,YAAd,2IACjBD,MAAM,GAAM,GADK,iDAGIE,MAAK,WACvBT,UADuB,8BAE1B,CACIU,MAAM,CAAE,KADZ,CAEIC,OAAO,CAAE,CACL,eAAgB,kBADX,CAEL,iCAA2BH,YAA3B,CAFK,CAFb,CAF0B,CAHT,QAGbI,QAHa,qCAaAA,SAAQ,CAACC,IAAT,EAbA,QAabA,IAba,oBAcfD,QAAQ,CAACL,MAAT,GAAoB,GAdL,2BAejB;AACAO,KAAK,CAAC,0CAAD,CAAL,CACAC,MAAM,CAACC,QAAP,CAAgBC,MAAhB,CAAuB,QAAvB,EAjBiB,gCAkBV,EAlBU,UAoBnB,GAAIL,QAAQ,CAACL,MAAT,GAAoB,GAAxB,CAA6B,CAC3B;AACAL,OAAO,CAACgB,IAAI,CAACC,KAAL,CAAWN,IAAX,CAAD,CAAP,CACD,CAHD,IAGO,CACL;AACAO,MAAM,CAACC,OAAP,CAAeH,IAAI,CAACC,KAAL,CAAWN,IAAX,CAAf,EAAiCS,OAAjC,CAAyC,eAAgB,mCAAdC,GAAc,UAATC,KAAS,UACzDrB,IAAI,WAAIoB,GAAJ,cAAYC,KAAZ,EAAJ,CACD,CAFC,EAGD,CA5BkB,uDAFK,kBAEtBlB,eAFsB,mDAkC5BP,YAAY,CAACK,MAAD,CAASC,UAAT,CAAqBC,cAArB,CAAZ,CAEAA,cAAc,GApCc,wDAAH,kBAAdL,eAAc,wDAApB,CAuCP,MAAO,IAAMwB,kBAAiB,6FAAG,kBAAOC,WAAP,CAAoBxB,OAApB,CAA6BE,MAA7B,CAAqCC,UAArC,2IAEzBC,cAFyB,6FAER,kBAAMC,MAAN,CAAcC,YAAd,+IACjBD,MAAM,GAAM,GADK,mDAGIE,MAAK,WACvBT,UADuB,8BAE1B,CACEU,MAAM,CAAE,MADV,CAEEC,OAAO,CAAE,CACP,SAAU,kBADH,CAEP,eAAgB,kBAFT,CAGP,iCAA2BH,YAA3B,CAHO,CAFX,CAOEmB,IAAI,CAAET,IAAI,CAACU,SAAL,CAAe,CACnB,OAAQF,WADW,CAAf,CAPR,CAF0B,CAHT,QAGbd,QAHa,uCAkBAA,SAAQ,CAACC,IAAT,EAlBA,QAkBbA,IAlBa,qBAmBfD,QAAQ,CAACL,MAAT,GAAoB,GAnBL,4BAoBjB;AACAO,KAAK,CAAC,4CAAD,CAAL,CArBiB,iCAsBV,EAtBU,UAwBnB,GAAIF,QAAQ,CAACL,MAAT,GAAoB,GAAxB,CAA6B,CAC3B;AACAL,OAAO,GACR,CAHD,IAGO,CACL;AACD,CA7BkB,yDAFQ,kBAEzBI,eAFyB,qDAmC/BP,YAAY,CAACK,MAAD,CAASC,UAAT,CAAqBC,cAArB,CAAZ,CAEAA,cAAc,GArCiB,wDAAH,kBAAjBmB,kBAAiB,2DAAvB,CAwCP;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA"},"metadata":{},"sourceType":"module"}
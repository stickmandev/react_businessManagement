{"ast":null,"code":"import { backendURL } from \"../../backendURL\";\nexport const verifyTokens = async access => {\n  const old_accesstoken = access;\n  const refreshtoken = localStorage.getItem(\"refreshToken\");\n  console.log(\"verifying tokens......\"); // console.log(access)\n  // console.log(refreshtoken)\n  // Verifying access token___________________________________________________________________________________\n\n  const verify_access_token = await fetch(`${backendURL}/user/verifyAccess/`, {\n    method: 'POST',\n    headers: {\n      'Accept': 'Application/JSON',\n      'Content-Type': 'Application/json'\n    },\n    body: JSON.stringify({\n      \"token\": old_accesstoken\n    })\n  });\n\n  if (verify_access_token.status === (401 || 400)) {\n    const get_access_token = await fetch(`${backendURL}/user/refresh/`, {\n      method: 'POST',\n      headers: {\n        'Accept': 'Application/JSON',\n        'Content-Type': 'Application/json'\n      },\n      body: JSON.stringify({\n        \"refresh\": refreshtoken\n      })\n    });\n\n    if (get_access_token.status === 200) {\n      await localStorage.setItem(\"refreshToken\", verify_access_token.refresh);\n      const access = verify_access_token.access;\n    }\n\n    if (get_access_token.status === (401 || 400)) {}\n  }\n\n  ;\n};","map":{"version":3,"names":["backendURL","verifyTokens","access","old_accesstoken","refreshtoken","localStorage","getItem","console","log","verify_access_token","fetch","method","headers","body","JSON","stringify","status","get_access_token","setItem","refresh"],"sources":["/home/gcg/Desktop/Programing /python/Django main projects/projects/businessManagement/react_BusinessManagement/src/features/auths/verifyTokens.js"],"sourcesContent":["import {backendURL} from \"../../backendURL\"\n\nexport const verifyTokens = async (access) => {\n    const old_accesstoken = access\n    const refreshtoken =  localStorage.getItem(\"refreshToken\");\n    console.log(\"verifying tokens......\")\n    // console.log(access)\n    // console.log(refreshtoken)\n    \n    // Verifying access token___________________________________________________________________________________\n    const verify_access_token = await fetch(\n\n      `${backendURL}/user/verifyAccess/`,\n      {\n          method: 'POST',\n          headers: {\n              'Accept': 'Application/JSON',\n              'Content-Type': 'Application/json',\n          },\n          body: JSON.stringify({\n            \"token\": old_accesstoken,\n          })\n      }\n    );\n  \n    if (verify_access_token.status === (401||400) ) {\n      const get_access_token = await fetch(\n        `${backendURL}/user/refresh/`,\n        {\n            method: 'POST',\n            headers: {\n                'Accept': 'Application/JSON',\n                'Content-Type': 'Application/json',\n            },\n            body: JSON.stringify({\n              \"refresh\": refreshtoken,\n            })\n        }\n      );\n  \n      if (get_access_token.status === 200) {\n        await localStorage.setItem(\"refreshToken\", verify_access_token.refresh);\n        const access = verify_access_token.access\n      }\n      if (get_access_token.status === (401||400)) {\n\n        \n\n      }\n  \n    };\n    \n    \n}\n"],"mappings":"AAAA,SAAQA,UAAR,QAAyB,kBAAzB;AAEA,OAAO,MAAMC,YAAY,GAAG,MAAOC,MAAP,IAAkB;EAC1C,MAAMC,eAAe,GAAGD,MAAxB;EACA,MAAME,YAAY,GAAIC,YAAY,CAACC,OAAb,CAAqB,cAArB,CAAtB;EACAC,OAAO,CAACC,GAAR,CAAY,wBAAZ,EAH0C,CAI1C;EACA;EAEA;;EACA,MAAMC,mBAAmB,GAAG,MAAMC,KAAK,CAEpC,GAAEV,UAAW,qBAFuB,EAGrC;IACIW,MAAM,EAAE,MADZ;IAEIC,OAAO,EAAE;MACL,UAAU,kBADL;MAEL,gBAAgB;IAFX,CAFb;IAMIC,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;MACnB,SAASZ;IADU,CAAf;EANV,CAHqC,CAAvC;;EAeA,IAAIM,mBAAmB,CAACO,MAApB,MAAgC,OAAK,GAArC,CAAJ,EAAgD;IAC9C,MAAMC,gBAAgB,GAAG,MAAMP,KAAK,CACjC,GAAEV,UAAW,gBADoB,EAElC;MACIW,MAAM,EAAE,MADZ;MAEIC,OAAO,EAAE;QACL,UAAU,kBADL;QAEL,gBAAgB;MAFX,CAFb;MAMIC,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;QACnB,WAAWX;MADQ,CAAf;IANV,CAFkC,CAApC;;IAcA,IAAIa,gBAAgB,CAACD,MAAjB,KAA4B,GAAhC,EAAqC;MACnC,MAAMX,YAAY,CAACa,OAAb,CAAqB,cAArB,EAAqCT,mBAAmB,CAACU,OAAzD,CAAN;MACA,MAAMjB,MAAM,GAAGO,mBAAmB,CAACP,MAAnC;IACD;;IACD,IAAIe,gBAAgB,CAACD,MAAjB,MAA6B,OAAK,GAAlC,CAAJ,EAA4C,CAI3C;EAEF;;EAAA;AAGJ,CAnDM"},"metadata":{},"sourceType":"module"}
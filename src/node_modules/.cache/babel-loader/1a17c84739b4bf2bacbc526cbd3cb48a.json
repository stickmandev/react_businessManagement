{"ast":null,"code":"import { verifyTokens } from \"../../../auths/verifyTokens\";\nimport { backendURL } from \"../../../../backendURL\"; // `${backendURL}/ledger/cashflow/ratios/weekly?start_date=${start_date}&end_date=${end_date}&date_range=${date_range}`,\n\nexport const get_ratioApi = async (success, fail, ratioPeriodInterval, ratioDateFrom, ratioDateTo, ratioPeriod, access, set_access) => {\n  // console.log(start_date+\"-----To------\"+end_date)\n  // console.log(filterCategory)\n  console.log(ratioPeriod);\n  console.log(ratioDateFrom);\n\n  const success_Status = async (status, access_token) => {\n    if (status === 200) {\n      if (ratioPeriod === '' || ratioPeriod == JSON.stringify('')) {\n        console.log('111111111111111111'); // console.log('fetching cashflow data')\n        // fetching cashflow data\n\n        const response = await fetch(`${backendURL}/ledger/cashflow/ratios/${ratioPeriodInterval}?start_date=${ratioDateFrom}&end_date=${ratioDateTo}&date_range=${ratioPeriod}`, {\n          method: 'GET',\n          headers: {\n            'Content-Type': 'Application/JSON',\n            'Authorization': `Bearer ${access_token}`\n          }\n        });\n        const text = await response.text();\n\n        if (response.status === 401) {\n          // console.log(\"accesstoken not valid\");\n          alert(\"you are not authorized to view this page\");\n          window.location.assign(\"/login\");\n          return [];\n        }\n\n        if (response.status === 200) {\n          // console.log(\"success\", JSON.parse(text));\n          // console.log('successfuly fetched cashflow data')\n          success(JSON.parse(text));\n        } else {\n          // console.log(\"failed\", text);\n          Object.entries(JSON.parse(text)).forEach(_ref => {\n            let [key, value] = _ref;\n            fail(`${key}: ${value}`); // console.log('faillllled')\n          });\n        }\n      } else {\n        console.log('2222222222222222');\n        const response = await fetch(`${backendURL}/ledger/cashflow/ratios/${ratioPeriodInterval}?start_date=&end_date=&date_range=${ratioPeriod}`, {\n          method: 'GET',\n          headers: {\n            'Content-Type': 'Application/JSON',\n            'Authorization': `Bearer ${access_token}`\n          }\n        });\n        const text = await response.text();\n\n        if (response.status === 401) {\n          // console.log(\"accesstoken not valid\");\n          alert(\"you are not authorized to view this page\");\n          window.location.assign(\"/login\");\n          return [];\n        }\n\n        if (response.status === 200) {\n          // console.log(\"success\", JSON.parse(text));\n          // console.log('successfuly fetched cashflow data')\n          success(JSON.parse(text));\n        } else {\n          // console.log(\"failed\", text);\n          Object.entries(JSON.parse(text)).forEach(_ref2 => {\n            let [key, value] = _ref2;\n            fail(`${key}: ${value}`); // console.log('faillllled')\n          });\n        }\n      }\n    }\n  };\n\n  verifyTokens(access, set_access, success_Status);\n  success_Status();\n};","map":{"version":3,"names":["verifyTokens","backendURL","get_ratioApi","success","fail","ratioPeriodInterval","ratioDateFrom","ratioDateTo","ratioPeriod","access","set_access","console","log","success_Status","status","access_token","JSON","stringify","response","fetch","method","headers","text","alert","window","location","assign","parse","Object","entries","forEach","key","value"],"sources":["/home/gcg/Desktop/Programing /python/Django main projects/projects/businessManagement/react_BusinessManagement/src/features/ledger/components/api/ratios_api.js"],"sourcesContent":["import {verifyTokens} from \"../../../auths/verifyTokens\"\nimport {backendURL} from \"../../../../backendURL\"\n// `${backendURL}/ledger/cashflow/ratios/weekly?start_date=${start_date}&end_date=${end_date}&date_range=${date_range}`,\n\n\nexport const get_ratioApi = async ( success, fail, ratioPeriodInterval, ratioDateFrom, ratioDateTo, ratioPeriod, access, set_access) => {\n    \n    // console.log(start_date+\"-----To------\"+end_date)\n    // console.log(filterCategory)\n    console.log(ratioPeriod)\n    console.log(ratioDateFrom)\n\n    const success_Status = async(status, access_token) => {\n    if (status  === 200){\n      \n      if(ratioPeriod==='' || ratioPeriod == JSON.stringify('')){\n        console.log('111111111111111111')\n        // console.log('fetching cashflow data')\n        // fetching cashflow data\n        const response = await fetch(\n          `${backendURL}/ledger/cashflow/ratios/${ratioPeriodInterval}?start_date=${ratioDateFrom}&end_date=${ratioDateTo}&date_range=${ratioPeriod}`,\n          {\n              method: 'GET',\n              headers: {\n                  'Content-Type': 'Application/JSON',\n                  'Authorization': `Bearer ${access_token}`,\n              }\n          }\n        );\n        const text = await response.text();\n        if (response.status === 401) {\n          // console.log(\"accesstoken not valid\");\n          alert(\"you are not authorized to view this page\")\n          window.location.assign(\"/login\");\n          return [];\n        }\n        if (response.status === 200) {\n          // console.log(\"success\", JSON.parse(text));\n          // console.log('successfuly fetched cashflow data')\n          success(JSON.parse(text));\n        } else {\n          // console.log(\"failed\", text);\n          Object.entries(JSON.parse(text)).forEach(([key, value])=>{\n            fail(`${key}: ${value}`);\n            // console.log('faillllled')\n          });\n        }\n      }else{\n        console.log('2222222222222222')\n        const response = await fetch(\n          `${backendURL}/ledger/cashflow/ratios/${ratioPeriodInterval}?start_date=&end_date=&date_range=${ratioPeriod}`,\n          {\n              method: 'GET',\n              headers: {\n                  'Content-Type': 'Application/JSON',\n                  'Authorization': `Bearer ${access_token}`,\n              }\n          }\n        );\n        const text = await response.text();\n        if (response.status === 401) {\n          // console.log(\"accesstoken not valid\");\n          alert(\"you are not authorized to view this page\")\n          window.location.assign(\"/login\");\n          return [];\n        }\n        if (response.status === 200) {\n          // console.log(\"success\", JSON.parse(text));\n          // console.log('successfuly fetched cashflow data')\n          success(JSON.parse(text));\n        } else {\n          // console.log(\"failed\", text);\n          Object.entries(JSON.parse(text)).forEach(([key, value])=>{\n            fail(`${key}: ${value}`);\n            // console.log('faillllled')\n          });\n        }\n      }\n    }\n  }\n\n  verifyTokens(access, set_access, success_Status)\n  \n  success_Status()\n};\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}